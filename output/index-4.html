<!DOCTYPE html>
<html prefix="        og: http://ogp.me/ns# article: http://ogp.me/ns/article#     " vocab="http://ogp.me/ns" lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="Tech notes and tips">
<meta name="viewport" content="width=device-width">
<title>Greg's Tech Notes (old posts, page 4) | Greg's Tech Notes</title>
<link href="https://fonts.googleapis.com/css?family=Bitter:400,400i,700" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" hreflang="en" href="rss.xml">
<link rel="canonical" href="https://stencel.io/index-4.html">
<link rel="prev" href="index.html" type="text/html">
<link rel="next" href="index-3.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5shiv-printshiv.min.js"></script><![endif]-->
</head>
<body>
    <a href="#page-content" class="sr-only sr-only-focusable">Skip to main content</a>
    
    <section class="social"><ul>
<li><p style="color:#fff;font-size:3em;">stencel.io</p></li>
        <li><p style="color:#fff;font-size:2em;">greg's tech notes</p></li>
            <li>
                <a href="https://stencel.io/">
                    <img src="images/aboutme.png" alt="Greg's Tech Notes" id="logo"></a>
            </li>
        
            <li><a href="index.html" title="Home"><i class="fa fa-home"></i></a></li>
            <li><a href="archive.html" title="Archives"><i class="fa fa-folder-open"></i></a></li>
            <li><a href="categories/index.html" title="Tags"><i class="fa fa-tags"></i></a></li>
            <li><a href="https://www.linkedin.com/in/gregstencel/" title="My Linkedin"><i class="fab fa-linkedin"></i></a></li>
            <li><a href="https://github.com/greg4fun" title="My Github"><i class="fab fa-github"></i></a></li>
    
    

        </ul></section><section class="page-content"><div class="content" rel="main">
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/zabbix-stack-with-docker-composeyml.html" class="u-url">Zabbix stack with docker-compose.yml</a></h1>
        <div class="metadata">
            <p class="dateline"><a href="posts/zabbix-stack-with-docker-composeyml.html" rel="bookmark"><i class="fa fa-clock"></i> <time class="published dt-published" datetime="2018-03-15T17:14:48Z" title="2018-03-15 17:14">2018-03-15 17:14</time></a></p>
            <p class="byline author vcard"> <i class="fa fa-user"></i> <span class="byline-name fn" itemprop="author">
                Greg Stencel
            </span></p>
                <p class="commentline"><i class="fa fa-comment"></i> 
    
    <a href="posts/zabbix-stack-with-docker-composeyml.html#disqus_thread" data-disqus-identifier="cache/posts/zabbix-stack-with-docker-composeyml.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <section id="fully-working-zabbix-server-solution-with-ui-and-database-in-seconds"><h2>Fully working zabbix server solution with UI and database in seconds</h2>
<p>I wanted to install zabbix server quickly with docker but amount of zabbix images (created by zabbix) on dockerhub just overwhelmed me.
To set up running zabbix server we need 3 images
* choice of sql DB
* zabbix-web  - web interface
* zabbix-server - main zabbix process responsible for polling and trapping data and sending notifications to users.</p>
<p>My choice of database was MySQL so I created docker-compose file to have full stack of running zabbix server:</p>
<p>Notice(you may want to use alpine versions for production env)
docker-compose.yml:</p>
<div class="code"><pre class="code bash"><a id="rest_code_f449ce6f9ec040c28b92af4b184810d7-1" name="rest_code_f449ce6f9ec040c28b92af4b184810d7-1" href="posts/zabbix-stack-with-docker-composeyml.html#rest_code_f449ce6f9ec040c28b92af4b184810d7-1"></a>version: <span class="s1">'3'</span>
<a id="rest_code_f449ce6f9ec040c28b92af4b184810d7-2" name="rest_code_f449ce6f9ec040c28b92af4b184810d7-2" href="posts/zabbix-stack-with-docker-composeyml.html#rest_code_f449ce6f9ec040c28b92af4b184810d7-2"></a>
<a id="rest_code_f449ce6f9ec040c28b92af4b184810d7-3" name="rest_code_f449ce6f9ec040c28b92af4b184810d7-3" href="posts/zabbix-stack-with-docker-composeyml.html#rest_code_f449ce6f9ec040c28b92af4b184810d7-3"></a>services:
<a id="rest_code_f449ce6f9ec040c28b92af4b184810d7-4" name="rest_code_f449ce6f9ec040c28b92af4b184810d7-4" href="posts/zabbix-stack-with-docker-composeyml.html#rest_code_f449ce6f9ec040c28b92af4b184810d7-4"></a>  db:
<a id="rest_code_f449ce6f9ec040c28b92af4b184810d7-5" name="rest_code_f449ce6f9ec040c28b92af4b184810d7-5" href="posts/zabbix-stack-with-docker-composeyml.html#rest_code_f449ce6f9ec040c28b92af4b184810d7-5"></a>    image: mysql:latest
<a id="rest_code_f449ce6f9ec040c28b92af4b184810d7-6" name="rest_code_f449ce6f9ec040c28b92af4b184810d7-6" href="posts/zabbix-stack-with-docker-composeyml.html#rest_code_f449ce6f9ec040c28b92af4b184810d7-6"></a>    restart: always
<a id="rest_code_f449ce6f9ec040c28b92af4b184810d7-7" name="rest_code_f449ce6f9ec040c28b92af4b184810d7-7" href="posts/zabbix-stack-with-docker-composeyml.html#rest_code_f449ce6f9ec040c28b92af4b184810d7-7"></a>    expose:
<a id="rest_code_f449ce6f9ec040c28b92af4b184810d7-8" name="rest_code_f449ce6f9ec040c28b92af4b184810d7-8" href="posts/zabbix-stack-with-docker-composeyml.html#rest_code_f449ce6f9ec040c28b92af4b184810d7-8"></a>      - <span class="s1">'3336'</span>
<a id="rest_code_f449ce6f9ec040c28b92af4b184810d7-9" name="rest_code_f449ce6f9ec040c28b92af4b184810d7-9" href="posts/zabbix-stack-with-docker-composeyml.html#rest_code_f449ce6f9ec040c28b92af4b184810d7-9"></a>    environment:
<a id="rest_code_f449ce6f9ec040c28b92af4b184810d7-10" name="rest_code_f449ce6f9ec040c28b92af4b184810d7-10" href="posts/zabbix-stack-with-docker-composeyml.html#rest_code_f449ce6f9ec040c28b92af4b184810d7-10"></a>      MYSQL_ROOT_PASSWORD: <span class="s1">'my_secret_password'</span>
<a id="rest_code_f449ce6f9ec040c28b92af4b184810d7-11" name="rest_code_f449ce6f9ec040c28b92af4b184810d7-11" href="posts/zabbix-stack-with-docker-composeyml.html#rest_code_f449ce6f9ec040c28b92af4b184810d7-11"></a>      MYSQL_USER: <span class="s1">'zabbixuser'</span>
<a id="rest_code_f449ce6f9ec040c28b92af4b184810d7-12" name="rest_code_f449ce6f9ec040c28b92af4b184810d7-12" href="posts/zabbix-stack-with-docker-composeyml.html#rest_code_f449ce6f9ec040c28b92af4b184810d7-12"></a>      MYSQL_PASSWORD: <span class="s1">'zabbixpass'</span>
<a id="rest_code_f449ce6f9ec040c28b92af4b184810d7-13" name="rest_code_f449ce6f9ec040c28b92af4b184810d7-13" href="posts/zabbix-stack-with-docker-composeyml.html#rest_code_f449ce6f9ec040c28b92af4b184810d7-13"></a>      MYSQL_ROOT_HOST: <span class="s1">'%'</span>
<a id="rest_code_f449ce6f9ec040c28b92af4b184810d7-14" name="rest_code_f449ce6f9ec040c28b92af4b184810d7-14" href="posts/zabbix-stack-with-docker-composeyml.html#rest_code_f449ce6f9ec040c28b92af4b184810d7-14"></a>    volumes:
<a id="rest_code_f449ce6f9ec040c28b92af4b184810d7-15" name="rest_code_f449ce6f9ec040c28b92af4b184810d7-15" href="posts/zabbix-stack-with-docker-composeyml.html#rest_code_f449ce6f9ec040c28b92af4b184810d7-15"></a>      - <span class="s1">'mysql_data_dir:/var/lib/mysql'</span>
<a id="rest_code_f449ce6f9ec040c28b92af4b184810d7-16" name="rest_code_f449ce6f9ec040c28b92af4b184810d7-16" href="posts/zabbix-stack-with-docker-composeyml.html#rest_code_f449ce6f9ec040c28b92af4b184810d7-16"></a>
<a id="rest_code_f449ce6f9ec040c28b92af4b184810d7-17" name="rest_code_f449ce6f9ec040c28b92af4b184810d7-17" href="posts/zabbix-stack-with-docker-composeyml.html#rest_code_f449ce6f9ec040c28b92af4b184810d7-17"></a>
<a id="rest_code_f449ce6f9ec040c28b92af4b184810d7-18" name="rest_code_f449ce6f9ec040c28b92af4b184810d7-18" href="posts/zabbix-stack-with-docker-composeyml.html#rest_code_f449ce6f9ec040c28b92af4b184810d7-18"></a>  zabbix-server:
<a id="rest_code_f449ce6f9ec040c28b92af4b184810d7-19" name="rest_code_f449ce6f9ec040c28b92af4b184810d7-19" href="posts/zabbix-stack-with-docker-composeyml.html#rest_code_f449ce6f9ec040c28b92af4b184810d7-19"></a>    image: zabbix/zabbix-server-mysql
<a id="rest_code_f449ce6f9ec040c28b92af4b184810d7-20" name="rest_code_f449ce6f9ec040c28b92af4b184810d7-20" href="posts/zabbix-stack-with-docker-composeyml.html#rest_code_f449ce6f9ec040c28b92af4b184810d7-20"></a>    links:
<a id="rest_code_f449ce6f9ec040c28b92af4b184810d7-21" name="rest_code_f449ce6f9ec040c28b92af4b184810d7-21" href="posts/zabbix-stack-with-docker-composeyml.html#rest_code_f449ce6f9ec040c28b92af4b184810d7-21"></a>      - <span class="s2">"db:mysql"</span>
<a id="rest_code_f449ce6f9ec040c28b92af4b184810d7-22" name="rest_code_f449ce6f9ec040c28b92af4b184810d7-22" href="posts/zabbix-stack-with-docker-composeyml.html#rest_code_f449ce6f9ec040c28b92af4b184810d7-22"></a>      - <span class="s2">"postfix:postfix"</span>
<a id="rest_code_f449ce6f9ec040c28b92af4b184810d7-23" name="rest_code_f449ce6f9ec040c28b92af4b184810d7-23" href="posts/zabbix-stack-with-docker-composeyml.html#rest_code_f449ce6f9ec040c28b92af4b184810d7-23"></a>    environment:
<a id="rest_code_f449ce6f9ec040c28b92af4b184810d7-24" name="rest_code_f449ce6f9ec040c28b92af4b184810d7-24" href="posts/zabbix-stack-with-docker-composeyml.html#rest_code_f449ce6f9ec040c28b92af4b184810d7-24"></a>      MYSQL_ROOT_PASSWORD: <span class="s1">'my_secret_password'</span>
<a id="rest_code_f449ce6f9ec040c28b92af4b184810d7-25" name="rest_code_f449ce6f9ec040c28b92af4b184810d7-25" href="posts/zabbix-stack-with-docker-composeyml.html#rest_code_f449ce6f9ec040c28b92af4b184810d7-25"></a>      MYSQL_USER: <span class="s1">'zabbixuser'</span>
<a id="rest_code_f449ce6f9ec040c28b92af4b184810d7-26" name="rest_code_f449ce6f9ec040c28b92af4b184810d7-26" href="posts/zabbix-stack-with-docker-composeyml.html#rest_code_f449ce6f9ec040c28b92af4b184810d7-26"></a>      MYSQL_PASSWORD: <span class="s1">'zabbixpass'</span>
<a id="rest_code_f449ce6f9ec040c28b92af4b184810d7-27" name="rest_code_f449ce6f9ec040c28b92af4b184810d7-27" href="posts/zabbix-stack-with-docker-composeyml.html#rest_code_f449ce6f9ec040c28b92af4b184810d7-27"></a>      DB_SERVER_HOST: <span class="s1">'mysql'</span>
<a id="rest_code_f449ce6f9ec040c28b92af4b184810d7-28" name="rest_code_f449ce6f9ec040c28b92af4b184810d7-28" href="posts/zabbix-stack-with-docker-composeyml.html#rest_code_f449ce6f9ec040c28b92af4b184810d7-28"></a>
<a id="rest_code_f449ce6f9ec040c28b92af4b184810d7-29" name="rest_code_f449ce6f9ec040c28b92af4b184810d7-29" href="posts/zabbix-stack-with-docker-composeyml.html#rest_code_f449ce6f9ec040c28b92af4b184810d7-29"></a>
<a id="rest_code_f449ce6f9ec040c28b92af4b184810d7-30" name="rest_code_f449ce6f9ec040c28b92af4b184810d7-30" href="posts/zabbix-stack-with-docker-composeyml.html#rest_code_f449ce6f9ec040c28b92af4b184810d7-30"></a>  zabbix-web:
<a id="rest_code_f449ce6f9ec040c28b92af4b184810d7-31" name="rest_code_f449ce6f9ec040c28b92af4b184810d7-31" href="posts/zabbix-stack-with-docker-composeyml.html#rest_code_f449ce6f9ec040c28b92af4b184810d7-31"></a>    image: zabbix/zabbix-web-nginx-mysql
<a id="rest_code_f449ce6f9ec040c28b92af4b184810d7-32" name="rest_code_f449ce6f9ec040c28b92af4b184810d7-32" href="posts/zabbix-stack-with-docker-composeyml.html#rest_code_f449ce6f9ec040c28b92af4b184810d7-32"></a>    ports:
<a id="rest_code_f449ce6f9ec040c28b92af4b184810d7-33" name="rest_code_f449ce6f9ec040c28b92af4b184810d7-33" href="posts/zabbix-stack-with-docker-composeyml.html#rest_code_f449ce6f9ec040c28b92af4b184810d7-33"></a>      - <span class="s1">'7777:80'</span>
<a id="rest_code_f449ce6f9ec040c28b92af4b184810d7-34" name="rest_code_f449ce6f9ec040c28b92af4b184810d7-34" href="posts/zabbix-stack-with-docker-composeyml.html#rest_code_f449ce6f9ec040c28b92af4b184810d7-34"></a>    links:
<a id="rest_code_f449ce6f9ec040c28b92af4b184810d7-35" name="rest_code_f449ce6f9ec040c28b92af4b184810d7-35" href="posts/zabbix-stack-with-docker-composeyml.html#rest_code_f449ce6f9ec040c28b92af4b184810d7-35"></a>      - <span class="s2">"db:mysql"</span>
<a id="rest_code_f449ce6f9ec040c28b92af4b184810d7-36" name="rest_code_f449ce6f9ec040c28b92af4b184810d7-36" href="posts/zabbix-stack-with-docker-composeyml.html#rest_code_f449ce6f9ec040c28b92af4b184810d7-36"></a>      - <span class="s2">"zabbix-server:zabbix-server"</span>
<a id="rest_code_f449ce6f9ec040c28b92af4b184810d7-37" name="rest_code_f449ce6f9ec040c28b92af4b184810d7-37" href="posts/zabbix-stack-with-docker-composeyml.html#rest_code_f449ce6f9ec040c28b92af4b184810d7-37"></a>      - <span class="s2">"postfix:postfix"</span>
<a id="rest_code_f449ce6f9ec040c28b92af4b184810d7-38" name="rest_code_f449ce6f9ec040c28b92af4b184810d7-38" href="posts/zabbix-stack-with-docker-composeyml.html#rest_code_f449ce6f9ec040c28b92af4b184810d7-38"></a>    environment:
<a id="rest_code_f449ce6f9ec040c28b92af4b184810d7-39" name="rest_code_f449ce6f9ec040c28b92af4b184810d7-39" href="posts/zabbix-stack-with-docker-composeyml.html#rest_code_f449ce6f9ec040c28b92af4b184810d7-39"></a>      MYSQL_ROOT_PASSWORD: <span class="s1">'secret'</span>
<a id="rest_code_f449ce6f9ec040c28b92af4b184810d7-40" name="rest_code_f449ce6f9ec040c28b92af4b184810d7-40" href="posts/zabbix-stack-with-docker-composeyml.html#rest_code_f449ce6f9ec040c28b92af4b184810d7-40"></a>      MYSQL_USER: <span class="s1">'zabbixuser'</span>
<a id="rest_code_f449ce6f9ec040c28b92af4b184810d7-41" name="rest_code_f449ce6f9ec040c28b92af4b184810d7-41" href="posts/zabbix-stack-with-docker-composeyml.html#rest_code_f449ce6f9ec040c28b92af4b184810d7-41"></a>      MYSQL_PASSWORD: <span class="s1">'myzabbixpass'</span>
<a id="rest_code_f449ce6f9ec040c28b92af4b184810d7-42" name="rest_code_f449ce6f9ec040c28b92af4b184810d7-42" href="posts/zabbix-stack-with-docker-composeyml.html#rest_code_f449ce6f9ec040c28b92af4b184810d7-42"></a>      DB_SERVER_HOST: <span class="s1">'mysql'</span>
<a id="rest_code_f449ce6f9ec040c28b92af4b184810d7-43" name="rest_code_f449ce6f9ec040c28b92af4b184810d7-43" href="posts/zabbix-stack-with-docker-composeyml.html#rest_code_f449ce6f9ec040c28b92af4b184810d7-43"></a>      ZBX_SERVER_HOST: <span class="s2">"zabbix-server"</span>
<a id="rest_code_f449ce6f9ec040c28b92af4b184810d7-44" name="rest_code_f449ce6f9ec040c28b92af4b184810d7-44" href="posts/zabbix-stack-with-docker-composeyml.html#rest_code_f449ce6f9ec040c28b92af4b184810d7-44"></a>      PHP_TZ: <span class="s2">"Europe/London"</span>
<a id="rest_code_f449ce6f9ec040c28b92af4b184810d7-45" name="rest_code_f449ce6f9ec040c28b92af4b184810d7-45" href="posts/zabbix-stack-with-docker-composeyml.html#rest_code_f449ce6f9ec040c28b92af4b184810d7-45"></a>  postfix:
<a id="rest_code_f449ce6f9ec040c28b92af4b184810d7-46" name="rest_code_f449ce6f9ec040c28b92af4b184810d7-46" href="posts/zabbix-stack-with-docker-composeyml.html#rest_code_f449ce6f9ec040c28b92af4b184810d7-46"></a>    image: catatnight/postfix
<a id="rest_code_f449ce6f9ec040c28b92af4b184810d7-47" name="rest_code_f449ce6f9ec040c28b92af4b184810d7-47" href="posts/zabbix-stack-with-docker-composeyml.html#rest_code_f449ce6f9ec040c28b92af4b184810d7-47"></a>    hostname: support
<a id="rest_code_f449ce6f9ec040c28b92af4b184810d7-48" name="rest_code_f449ce6f9ec040c28b92af4b184810d7-48" href="posts/zabbix-stack-with-docker-composeyml.html#rest_code_f449ce6f9ec040c28b92af4b184810d7-48"></a>    environment:
<a id="rest_code_f449ce6f9ec040c28b92af4b184810d7-49" name="rest_code_f449ce6f9ec040c28b92af4b184810d7-49" href="posts/zabbix-stack-with-docker-composeyml.html#rest_code_f449ce6f9ec040c28b92af4b184810d7-49"></a>      - <span class="nv">maildomain</span><span class="o">=</span>domain.com
<a id="rest_code_f449ce6f9ec040c28b92af4b184810d7-50" name="rest_code_f449ce6f9ec040c28b92af4b184810d7-50" href="posts/zabbix-stack-with-docker-composeyml.html#rest_code_f449ce6f9ec040c28b92af4b184810d7-50"></a>      - <span class="nv">smtp_user</span><span class="o">=</span>admin:password
<a id="rest_code_f449ce6f9ec040c28b92af4b184810d7-51" name="rest_code_f449ce6f9ec040c28b92af4b184810d7-51" href="posts/zabbix-stack-with-docker-composeyml.html#rest_code_f449ce6f9ec040c28b92af4b184810d7-51"></a>    ports:
<a id="rest_code_f449ce6f9ec040c28b92af4b184810d7-52" name="rest_code_f449ce6f9ec040c28b92af4b184810d7-52" href="posts/zabbix-stack-with-docker-composeyml.html#rest_code_f449ce6f9ec040c28b92af4b184810d7-52"></a>      - <span class="s2">"25:25"</span>
<a id="rest_code_f449ce6f9ec040c28b92af4b184810d7-53" name="rest_code_f449ce6f9ec040c28b92af4b184810d7-53" href="posts/zabbix-stack-with-docker-composeyml.html#rest_code_f449ce6f9ec040c28b92af4b184810d7-53"></a>    <span class="c1">#  - "465:465"</span>
<a id="rest_code_f449ce6f9ec040c28b92af4b184810d7-54" name="rest_code_f449ce6f9ec040c28b92af4b184810d7-54" href="posts/zabbix-stack-with-docker-composeyml.html#rest_code_f449ce6f9ec040c28b92af4b184810d7-54"></a>    <span class="c1">#  - "587:587"</span>
<a id="rest_code_f449ce6f9ec040c28b92af4b184810d7-55" name="rest_code_f449ce6f9ec040c28b92af4b184810d7-55" href="posts/zabbix-stack-with-docker-composeyml.html#rest_code_f449ce6f9ec040c28b92af4b184810d7-55"></a>    expose:
<a id="rest_code_f449ce6f9ec040c28b92af4b184810d7-56" name="rest_code_f449ce6f9ec040c28b92af4b184810d7-56" href="posts/zabbix-stack-with-docker-composeyml.html#rest_code_f449ce6f9ec040c28b92af4b184810d7-56"></a>      - <span class="s2">"25"</span>
<a id="rest_code_f449ce6f9ec040c28b92af4b184810d7-57" name="rest_code_f449ce6f9ec040c28b92af4b184810d7-57" href="posts/zabbix-stack-with-docker-composeyml.html#rest_code_f449ce6f9ec040c28b92af4b184810d7-57"></a>    <span class="c1">#  - "465"</span>
<a id="rest_code_f449ce6f9ec040c28b92af4b184810d7-58" name="rest_code_f449ce6f9ec040c28b92af4b184810d7-58" href="posts/zabbix-stack-with-docker-composeyml.html#rest_code_f449ce6f9ec040c28b92af4b184810d7-58"></a>    <span class="c1">#  - "587"</span>
<a id="rest_code_f449ce6f9ec040c28b92af4b184810d7-59" name="rest_code_f449ce6f9ec040c28b92af4b184810d7-59" href="posts/zabbix-stack-with-docker-composeyml.html#rest_code_f449ce6f9ec040c28b92af4b184810d7-59"></a>    volumes:
<a id="rest_code_f449ce6f9ec040c28b92af4b184810d7-60" name="rest_code_f449ce6f9ec040c28b92af4b184810d7-60" href="posts/zabbix-stack-with-docker-composeyml.html#rest_code_f449ce6f9ec040c28b92af4b184810d7-60"></a>      - /etc/nginx/ssl/postfix:/etc/postfix/certs
<a id="rest_code_f449ce6f9ec040c28b92af4b184810d7-61" name="rest_code_f449ce6f9ec040c28b92af4b184810d7-61" href="posts/zabbix-stack-with-docker-composeyml.html#rest_code_f449ce6f9ec040c28b92af4b184810d7-61"></a>      - /etc/nginx/ssl/postfix:/etc/opendkim/domainkeys
<a id="rest_code_f449ce6f9ec040c28b92af4b184810d7-62" name="rest_code_f449ce6f9ec040c28b92af4b184810d7-62" href="posts/zabbix-stack-with-docker-composeyml.html#rest_code_f449ce6f9ec040c28b92af4b184810d7-62"></a>volumes:
<a id="rest_code_f449ce6f9ec040c28b92af4b184810d7-63" name="rest_code_f449ce6f9ec040c28b92af4b184810d7-63" href="posts/zabbix-stack-with-docker-composeyml.html#rest_code_f449ce6f9ec040c28b92af4b184810d7-63"></a>  mysql_data_dir:
<a id="rest_code_f449ce6f9ec040c28b92af4b184810d7-64" name="rest_code_f449ce6f9ec040c28b92af4b184810d7-64" href="posts/zabbix-stack-with-docker-composeyml.html#rest_code_f449ce6f9ec040c28b92af4b184810d7-64"></a>    driver: <span class="nb">local</span>
<a id="rest_code_f449ce6f9ec040c28b92af4b184810d7-65" name="rest_code_f449ce6f9ec040c28b92af4b184810d7-65" href="posts/zabbix-stack-with-docker-composeyml.html#rest_code_f449ce6f9ec040c28b92af4b184810d7-65"></a>
<a id="rest_code_f449ce6f9ec040c28b92af4b184810d7-66" name="rest_code_f449ce6f9ec040c28b92af4b184810d7-66" href="posts/zabbix-stack-with-docker-composeyml.html#rest_code_f449ce6f9ec040c28b92af4b184810d7-66"></a>      <span class="c1">#- ./deployment/config_files/main-postfix-live.cf:/etc/postfix/main.cf</span>
<a id="rest_code_f449ce6f9ec040c28b92af4b184810d7-67" name="rest_code_f449ce6f9ec040c28b92af4b184810d7-67" href="posts/zabbix-stack-with-docker-composeyml.html#rest_code_f449ce6f9ec040c28b92af4b184810d7-67"></a>    <span class="c1">#networks:</span>
<a id="rest_code_f449ce6f9ec040c28b92af4b184810d7-68" name="rest_code_f449ce6f9ec040c28b92af4b184810d7-68" href="posts/zabbix-stack-with-docker-composeyml.html#rest_code_f449ce6f9ec040c28b92af4b184810d7-68"></a>    <span class="c1">#  - backend</span>
<a id="rest_code_f449ce6f9ec040c28b92af4b184810d7-69" name="rest_code_f449ce6f9ec040c28b92af4b184810d7-69" href="posts/zabbix-stack-with-docker-composeyml.html#rest_code_f449ce6f9ec040c28b92af4b184810d7-69"></a>    <span class="c1">#entrypoint: /docker-entrypoint.sh</span>
</pre></div>
<p>The above solution is just enough to start zabbix server up and
running in couple seconds. To run it just put yml file into some directory (directory is important as volume created for mysql will have this dir name as prefix) volumes are usually stored in /var/lib/docker/volumes and run:</p>
<div class="code"><pre class="code bash"><a id="rest_code_b084e8357fb6454a85190418dcab85f5-1" name="rest_code_b084e8357fb6454a85190418dcab85f5-1" href="posts/zabbix-stack-with-docker-composeyml.html#rest_code_b084e8357fb6454a85190418dcab85f5-1"></a>sudo docker-compose up
</pre></div>
<p>Thats it!!!
You now have your zabbix running on port 7777</p>
<p>So what happened here docker-compose up has build and runned 3 containers
by running zabbix container it discovered there are no tables in mysql and has built them.</p>
<p>Now you just need to add agents/servers you want to monitor.
Check out adding agent in separate post [here]</p>
<p>Versions:
(versions I've used in this example Feb 2018):</p>
<p>Docker-compose: 1.17.0, build ac53b73
Docker: 17.09.1-ce, build 19e2cf6
Kernel: 4.13.0-36-generic</p>
</section>
</div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/git-commants-ive-found-useful.html" class="u-url">GIT commants I've found useful</a></h1>
        <div class="metadata">
            <p class="dateline"><a href="posts/git-commants-ive-found-useful.html" rel="bookmark"><i class="fa fa-clock"></i> <time class="published dt-published" datetime="2016-11-03T10:46:51Z" title="2016-11-03 10:46">2016-11-03 10:46</time></a></p>
            <p class="byline author vcard"> <i class="fa fa-user"></i> <span class="byline-name fn" itemprop="author">
                Greg Stencel
            </span></p>
                <p class="commentline"><i class="fa fa-comment"></i> 
    
    <a href="posts/git-commants-ive-found-useful.html#disqus_thread" data-disqus-identifier="cache/posts/git-commants-ive-found-useful.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <p>Check files changed between branches</p>
<div class="code"><pre class="code bash"><a id="rest_code_05e9b958f7cb4fb486f092e2f75b87a8-1" name="rest_code_05e9b958f7cb4fb486f092e2f75b87a8-1" href="posts/git-commants-ive-found-useful.html#rest_code_05e9b958f7cb4fb486f092e2f75b87a8-1"></a>git diff --name-status master..devel
</pre></div>
<p>Check changes on file form different branch/commit</p>
<div class="code"><pre class="code bash"><a id="rest_code_469b596af61740618c710eb2fbf5996d-1" name="rest_code_469b596af61740618c710eb2fbf5996d-1" href="posts/git-commants-ive-found-useful.html#rest_code_469b596af61740618c710eb2fbf5996d-1"></a>git diff commit_hash -- filename
</pre></div>
<p>Same as above between 2 branches/commits</p>
<div class="code"><pre class="code bash"><a id="rest_code_659437bfce2f4503994b548a52b22de6-1" name="rest_code_659437bfce2f4503994b548a52b22de6-1" href="posts/git-commants-ive-found-useful.html#rest_code_659437bfce2f4503994b548a52b22de6-1"></a>git diff commit_hash master -- filename
</pre></div>
<p>Check full file history</p>
<div class="code"><pre class="code bash"><a id="rest_code_0999ad8f923c431e8b1c1a9c8c0a7eea-1" name="rest_code_0999ad8f923c431e8b1c1a9c8c0a7eea-1" href="posts/git-commants-ive-found-useful.html#rest_code_0999ad8f923c431e8b1c1a9c8c0a7eea-1"></a>git log -p -- filename
</pre></div>
<p>Check who broke production server :</p>
<div class="code"><pre class="code bash"><a id="rest_code_5a1d2b61607b415ca27634f6796aca37-1" name="rest_code_5a1d2b61607b415ca27634f6796aca37-1" href="posts/git-commants-ive-found-useful.html#rest_code_5a1d2b61607b415ca27634f6796aca37-1"></a>git blame filename
</pre></div>
<p>Merge as one commit (need to commit afterwards) its not default like in normal merge:</p>
<div class="code"><pre class="code bash"><a id="rest_code_97aaf77bd1ce40808a2efc198918a83f-1" name="rest_code_97aaf77bd1ce40808a2efc198918a83f-1" href="posts/git-commants-ive-found-useful.html#rest_code_97aaf77bd1ce40808a2efc198918a83f-1"></a>git merge --squash branch
</pre></div>
<p>List of commits in git local storage</p>
<div class="code"><pre class="code bash"><a id="rest_code_658c207793c145878bf96d785308be86-1" name="rest_code_658c207793c145878bf96d785308be86-1" href="posts/git-commants-ive-found-useful.html#rest_code_658c207793c145878bf96d785308be86-1"></a>git reflog
</pre></div>
<p>Take(checkout) file from different branch/commit</p>
<div class="code"><pre class="code bash"><a id="rest_code_a42a0f49a02347f0ab9067d7dceeae15-1" name="rest_code_a42a0f49a02347f0ab9067d7dceeae15-1" href="posts/git-commants-ive-found-useful.html#rest_code_a42a0f49a02347f0ab9067d7dceeae15-1"></a>git checkout develop -- filename
<a id="rest_code_a42a0f49a02347f0ab9067d7dceeae15-2" name="rest_code_a42a0f49a02347f0ab9067d7dceeae15-2" href="posts/git-commants-ive-found-useful.html#rest_code_a42a0f49a02347f0ab9067d7dceeae15-2"></a>git checkout commit_hash -- filename
</pre></div>
<p>Reset current branch to remote:</p>
<div class="code"><pre class="code bash"><a id="rest_code_9efa3a82420745a6afc93ebf85eadb0f-1" name="rest_code_9efa3a82420745a6afc93ebf85eadb0f-1" href="posts/git-commants-ive-found-useful.html#rest_code_9efa3a82420745a6afc93ebf85eadb0f-1"></a>git reset --hard origin/current_branch
<a id="rest_code_9efa3a82420745a6afc93ebf85eadb0f-2" name="rest_code_9efa3a82420745a6afc93ebf85eadb0f-2" href="posts/git-commants-ive-found-useful.html#rest_code_9efa3a82420745a6afc93ebf85eadb0f-2"></a>git reset --hard origin/master
</pre></div>
<p>Save and depracate changes which were not commited</p>
<div class="code"><pre class="code bash"><a id="rest_code_5c3551e8026a45acb768c450a0f9e910-1" name="rest_code_5c3551e8026a45acb768c450a0f9e910-1" href="posts/git-commants-ive-found-useful.html#rest_code_5c3551e8026a45acb768c450a0f9e910-1"></a>git stash
<a id="rest_code_5c3551e8026a45acb768c450a0f9e910-2" name="rest_code_5c3551e8026a45acb768c450a0f9e910-2" href="posts/git-commants-ive-found-useful.html#rest_code_5c3551e8026a45acb768c450a0f9e910-2"></a>git stash save -a
</pre></div>
<p>Restore stash (by picking selected)</p>
<div class="code"><pre class="code bash"><a id="rest_code_325e2a088ad04f9db13e30cf32d8909b-1" name="rest_code_325e2a088ad04f9db13e30cf32d8909b-1" href="posts/git-commants-ive-found-useful.html#rest_code_325e2a088ad04f9db13e30cf32d8909b-1"></a>git stash list
<a id="rest_code_325e2a088ad04f9db13e30cf32d8909b-2" name="rest_code_325e2a088ad04f9db13e30cf32d8909b-2" href="posts/git-commants-ive-found-useful.html#rest_code_325e2a088ad04f9db13e30cf32d8909b-2"></a>git stash pop <span class="o">{</span><span class="m">0</span><span class="o">}</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/fabric-auto-deployment-script.html" class="u-url">fabric - auto deployment script</a></h1>
        <div class="metadata">
            <p class="dateline"><a href="posts/fabric-auto-deployment-script.html" rel="bookmark"><i class="fa fa-clock"></i> <time class="published dt-published" datetime="2016-11-02T14:45:29Z" title="2016-11-02 14:45">2016-11-02 14:45</time></a></p>
            <p class="byline author vcard"> <i class="fa fa-user"></i> <span class="byline-name fn" itemprop="author">
                Greg Stencel
            </span></p>
                <p class="commentline"><i class="fa fa-comment"></i> 
    
    <a href="posts/fabric-auto-deployment-script.html#disqus_thread" data-disqus-identifier="cache/posts/fabric-auto-deployment-script.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <p>Recently I wrote fabric deployment scrip maybe someone will find it usefull.</p>
<p>It enables possibility to run "group execute" task with</p>
<div class="code"><pre class="code python"><a id="rest_code_950191822ebd4961a83a488a73593d7d-1" name="rest_code_950191822ebd4961a83a488a73593d7d-1" href="posts/fabric-auto-deployment-script.html#rest_code_950191822ebd4961a83a488a73593d7d-1"></a><span class="n">fab</span> <span class="n">live_servers</span> <span class="n">pull</span> <span class="n">restart</span>
</pre></div>
<p>or single host</p>
<div class="code"><pre class="code python"><a id="rest_code_29fb542a372f4dd3bfe4717ba330b648-1" name="rest_code_29fb542a372f4dd3bfe4717ba330b648-1" href="posts/fabric-auto-deployment-script.html#rest_code_29fb542a372f4dd3bfe4717ba330b648-1"></a><span class="n">fab</span> <span class="n">live1</span> <span class="n">pull</span>
</pre></div>
<p>All we need to do is to define group or sinle host as function afterwards I used end update decorator.</p>
<p>I know there could be also something like duplication of tasks with separate servers fab live1 pull live2
pull but I believe that fabric was written for distributed systems which has different paths of apps and users
etc.</p>
<p>also roledefs with extra dict keys didn't work for me)? I want to keep this simple single/multiple host
deployment commands like : fab live_servers pull, fab test pull</p>
<div class="code"><pre class="code python"><a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-1" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-1" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-1"></a><span class="kn">from</span> <span class="nn">fabric.api</span> <span class="kn">import</span> <span class="n">run</span><span class="p">,</span> <span class="n">env</span><span class="p">,</span> <span class="n">local</span><span class="p">,</span> <span class="n">get</span><span class="p">,</span> <span class="n">cd</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-2" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-2" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-2"></a><span class="kn">from</span> <span class="nn">fabric.tasks</span> <span class="kn">import</span> <span class="n">execute</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-3" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-3" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-3"></a><span class="kn">import</span> <span class="nn">inspect</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-4" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-4" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-4"></a><span class="kn">import</span> <span class="nn">sys</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-5" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-5" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-5"></a><span class="kn">import</span> <span class="nn">os</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-6" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-6" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-6"></a><span class="kn">import</span> <span class="nn">re</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-7" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-7" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-7"></a><span class="kn">from</span> <span class="nn">StringIO</span> <span class="kn">import</span> <span class="n">StringIO</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-8" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-8" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-8"></a>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-9" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-9" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-9"></a><span class="c1"># fabfile author: Grzegorz Stencel</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-10" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-10" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-10"></a><span class="c1"># usage:</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-11" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-11" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-11"></a><span class="c1"># run: fab help for examples</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-12" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-12" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-12"></a><span class="c1"># fab staging svnxapp:app=holdings_and_quotes,layout.py,permissions.py restart</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-13" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-13" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-13"></a><span class="c1"># fab test svnxlib</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-14" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-14" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-14"></a>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-15" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-15" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-15"></a><span class="n">SERVER_BRANCHES</span> <span class="o">=</span> <span class="p">{</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-16" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-16" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-16"></a>    <span class="s1">'live'</span><span class="p">:</span> <span class="s1">'master'</span><span class="p">,</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-17" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-17" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-17"></a>    <span class="s1">'sit'</span><span class="p">:</span> <span class="s1">'sit'</span><span class="p">,</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-18" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-18" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-18"></a>    <span class="s1">'uat'</span><span class="p">:</span> <span class="s1">'uat'</span><span class="p">,</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-19" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-19" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-19"></a>    <span class="s1">'live2'</span><span class="p">:</span><span class="s1">'master'</span><span class="p">,</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-20" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-20" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-20"></a>    <span class="s1">'live3'</span><span class="p">:</span><span class="s1">'master'</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-21" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-21" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-21"></a>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-22" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-22" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-22"></a><span class="p">}</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-23" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-23" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-23"></a><span class="c1"># MAIN CONF</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-24" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-24" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-24"></a><span class="n">SERVERS</span> <span class="o">=</span> <span class="p">{</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-25" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-25" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-25"></a>    <span class="s1">'local'</span><span class="p">:</span> <span class="p">{</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-26" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-26" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-26"></a>        <span class="s1">'envname'</span><span class="p">:</span> <span class="s1">'local'</span><span class="p">,</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-27" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-27" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-27"></a>        <span class="s1">'user'</span><span class="p">:</span> <span class="s1">'greg'</span><span class="p">,</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-28" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-28" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-28"></a>        <span class="s1">'host'</span><span class="p">:</span> <span class="s1">'localhost'</span><span class="p">,</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-29" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-29" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-29"></a>        <span class="s1">'host_string'</span><span class="p">:</span> <span class="s1">'localhost'</span><span class="p">,</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-30" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-30" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-30"></a>        <span class="s1">'path'</span><span class="p">:</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'SITE_ROOT'</span><span class="p">,</span> <span class="s1">'/opt/myapp/test'</span><span class="p">),</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-31" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-31" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-31"></a>        <span class="s1">'www_root'</span><span class="p">:</span> <span class="s1">'http://localhost:8081/'</span><span class="p">,</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-32" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-32" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-32"></a>        <span class="s1">'retries_before_killing'</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-33" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-33" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-33"></a>        <span class="s1">'retry_sleep'</span><span class="p">:</span> <span class="mi">2</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-34" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-34" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-34"></a>    <span class="p">},</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-35" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-35" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-35"></a>    <span class="s1">'test'</span><span class="p">:</span> <span class="p">{</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-36" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-36" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-36"></a>        <span class="s1">'envname'</span><span class="p">:</span> <span class="s1">'test'</span><span class="p">,</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-37" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-37" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-37"></a>        <span class="s1">'user'</span><span class="p">:</span> <span class="s1">'root'</span><span class="p">,</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-38" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-38" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-38"></a>        <span class="s1">'host'</span><span class="p">:</span> <span class="s1">'myapp-test.stencel.com'</span><span class="p">,</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-39" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-39" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-39"></a>        <span class="s1">'host_string'</span><span class="p">:</span> <span class="s1">'myapp-test.stencel.com'</span><span class="p">,</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-40" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-40" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-40"></a>        <span class="s1">'path'</span><span class="p">:</span> <span class="s1">'/var/www/myapp/test/'</span><span class="p">,</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-41" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-41" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-41"></a>        <span class="s1">'www_root'</span><span class="p">:</span> <span class="s1">'http://myapp-test.stencel.com/'</span><span class="p">,</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-42" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-42" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-42"></a>        <span class="s1">'retries_before_killing'</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-43" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-43" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-43"></a>        <span class="s1">'retry_sleep'</span><span class="p">:</span> <span class="mi">2</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-44" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-44" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-44"></a>    <span class="p">},</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-45" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-45" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-45"></a>    <span class="s1">'uat'</span><span class="p">:</span> <span class="p">{</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-46" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-46" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-46"></a>        <span class="s1">'envname'</span><span class="p">:</span> <span class="s1">'uat'</span><span class="p">,</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-47" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-47" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-47"></a>        <span class="s1">'user'</span><span class="p">:</span> <span class="s1">'myapp'</span><span class="p">,</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-48" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-48" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-48"></a>        <span class="s1">'host'</span><span class="p">:</span> <span class="s1">'uat.myapp2.stencel.com'</span><span class="p">,</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-49" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-49" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-49"></a>        <span class="s1">'host_string'</span><span class="p">:</span> <span class="s1">'uat.myapp2.stencel.com'</span><span class="p">,</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-50" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-50" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-50"></a>        <span class="s1">'key_filename'</span><span class="p">:</span> <span class="s1">'deploy/keys/id_rsa'</span><span class="p">,</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-51" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-51" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-51"></a>        <span class="s1">'path'</span><span class="p">:</span> <span class="s1">'/opt/myapp/uat/'</span><span class="p">,</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-52" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-52" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-52"></a>        <span class="s1">'www_root'</span><span class="p">:</span> <span class="s1">'http://uat.myapp2.stencel.com/'</span><span class="p">,</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-53" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-53" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-53"></a>        <span class="s1">'retries_before_killing'</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-54" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-54" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-54"></a>        <span class="s1">'retry_sleep'</span><span class="p">:</span> <span class="mi">2</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-55" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-55" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-55"></a>    <span class="p">},</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-56" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-56" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-56"></a>    <span class="s1">'sit'</span><span class="p">:</span> <span class="p">{</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-57" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-57" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-57"></a>        <span class="s1">'envname'</span><span class="p">:</span> <span class="s1">'sit'</span><span class="p">,</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-58" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-58" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-58"></a>        <span class="s1">'user'</span><span class="p">:</span> <span class="s1">'myapp'</span><span class="p">,</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-59" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-59" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-59"></a>        <span class="s1">'host'</span><span class="p">:</span> <span class="s1">'sit.myapp2.stencel.com'</span><span class="p">,</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-60" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-60" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-60"></a>        <span class="s1">'host_string'</span><span class="p">:</span> <span class="s1">'sit.myapp2.stencel.com'</span><span class="p">,</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-61" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-61" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-61"></a>        <span class="s1">'key_filename'</span><span class="p">:</span> <span class="s1">'deploy/keys/id_rsa'</span><span class="p">,</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-62" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-62" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-62"></a>        <span class="s1">'path'</span><span class="p">:</span> <span class="s1">'/opt/myapp/sit/'</span><span class="p">,</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-63" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-63" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-63"></a>        <span class="s1">'www_root'</span><span class="p">:</span> <span class="s1">'http://sit.myapp2.stencel.com/'</span><span class="p">,</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-64" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-64" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-64"></a>        <span class="s1">'retries_before_killing'</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-65" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-65" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-65"></a>        <span class="s1">'retry_sleep'</span><span class="p">:</span> <span class="mi">2</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-66" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-66" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-66"></a>    <span class="p">},</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-67" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-67" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-67"></a>    <span class="s1">'live'</span><span class="p">:</span> <span class="p">{</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-68" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-68" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-68"></a>        <span class="s1">'envname'</span><span class="p">:</span> <span class="s1">'live'</span><span class="p">,</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-69" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-69" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-69"></a>        <span class="s1">'user'</span><span class="p">:</span> <span class="s1">'myapp'</span><span class="p">,</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-70" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-70" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-70"></a>        <span class="s1">'host'</span><span class="p">:</span> <span class="s1">'10.10.10.10'</span><span class="p">,</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-71" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-71" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-71"></a>        <span class="s1">'host_string'</span><span class="p">:</span> <span class="s1">'myapp2.stencel.com'</span><span class="p">,</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-72" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-72" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-72"></a>        <span class="s1">'path'</span><span class="p">:</span> <span class="s1">'/opt/myapp/live/'</span><span class="p">,</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-73" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-73" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-73"></a>        <span class="s1">'www_root'</span><span class="p">:</span> <span class="s1">'http://myapp2.stencel.com/'</span><span class="p">,</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-74" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-74" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-74"></a>        <span class="s1">'retries_before_killing'</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-75" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-75" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-75"></a>        <span class="s1">'retry_sleep'</span><span class="p">:</span> <span class="mi">2</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-76" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-76" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-76"></a>    <span class="p">},</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-77" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-77" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-77"></a>    <span class="s1">'live2'</span><span class="p">:</span> <span class="p">{</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-78" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-78" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-78"></a>        <span class="s1">'envname'</span><span class="p">:</span> <span class="s1">'live2'</span><span class="p">,</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-79" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-79" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-79"></a>        <span class="s1">'user'</span><span class="p">:</span> <span class="s1">'root'</span><span class="p">,</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-80" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-80" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-80"></a>        <span class="s1">'host'</span><span class="p">:</span> <span class="s1">'10.10.10.11'</span><span class="p">,</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-81" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-81" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-81"></a>        <span class="s1">'host_string'</span><span class="p">:</span> <span class="s1">'live2.stencel.com'</span><span class="p">,</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-82" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-82" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-82"></a>        <span class="s1">'path'</span><span class="p">:</span> <span class="s1">'/var/www/myapp/live/'</span><span class="p">,</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-83" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-83" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-83"></a>        <span class="s1">'www_root'</span><span class="p">:</span> <span class="s1">'http://myapp2.stencel.com/'</span><span class="p">,</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-84" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-84" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-84"></a>        <span class="s1">'retries_before_killing'</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-85" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-85" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-85"></a>        <span class="s1">'retry_sleep'</span><span class="p">:</span> <span class="mi">2</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-86" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-86" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-86"></a>    <span class="p">},</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-87" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-87" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-87"></a>    <span class="s1">'live3'</span><span class="p">:</span> <span class="p">{</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-88" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-88" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-88"></a>        <span class="s1">'envname'</span><span class="p">:</span> <span class="s1">'live3'</span><span class="p">,</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-89" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-89" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-89"></a>        <span class="s1">'user'</span><span class="p">:</span> <span class="s1">'root'</span><span class="p">,</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-90" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-90" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-90"></a>        <span class="s1">'host'</span><span class="p">:</span> <span class="s1">'10.10.10.12'</span><span class="p">,</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-91" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-91" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-91"></a>        <span class="s1">'host_string'</span><span class="p">:</span> <span class="s1">'live3.stencel.com'</span><span class="p">,</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-92" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-92" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-92"></a>        <span class="s1">'path'</span><span class="p">:</span> <span class="s1">'/var/www/myapp/live/'</span><span class="p">,</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-93" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-93" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-93"></a>        <span class="s1">'www_root'</span><span class="p">:</span> <span class="s1">'http://myapp2.stencel.com/'</span><span class="p">,</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-94" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-94" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-94"></a>        <span class="s1">'retries_before_killing'</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-95" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-95" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-95"></a>        <span class="s1">'retry_sleep'</span><span class="p">:</span> <span class="mi">2</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-96" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-96" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-96"></a>    <span class="p">},</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-97" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-97" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-97"></a>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-98" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-98" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-98"></a><span class="p">}</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-99" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-99" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-99"></a>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-100" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-100" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-100"></a><span class="n">LIVE_HOSTS</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'live'</span><span class="p">,</span> <span class="s1">'live2'</span><span class="p">,</span> <span class="s1">'live3'</span><span class="p">]</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-101" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-101" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-101"></a>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-102" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-102" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-102"></a>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-103" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-103" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-103"></a><span class="k">def</span> <span class="nf">list_hosts</span><span class="p">():</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-104" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-104" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-104"></a>    <span class="sd">"""</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-105" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-105" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-105"></a><span class="sd">    Lists available myapp hosts</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-106" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-106" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-106"></a><span class="sd">    """</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-107" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-107" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-107"></a>    <span class="nb">print</span> <span class="s2">" Single hosts(if you want to pull from svn only to one of them):"</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-108" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-108" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-108"></a>    <span class="nb">print</span> <span class="s1">'   </span><span class="si">%s</span><span class="s1">'</span> <span class="o">%</span> <span class="s1">'</span><span class="se">\n</span><span class="s1">   '</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">a</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">SERVERS</span><span class="p">])</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-109" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-109" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-109"></a>    <span class="nb">print</span> <span class="s2">" Multiple hosts"</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-110" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-110" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-110"></a>    <span class="nb">print</span> <span class="s1">'   live (which contains </span><span class="si">%s</span><span class="s1">)'</span> <span class="o">%</span> <span class="s1">','</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">a</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">LIVE_HOSTS</span><span class="p">])</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-111" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-111" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-111"></a>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-112" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-112" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-112"></a>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-113" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-113" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-113"></a><span class="k">def</span> <span class="nf">test</span><span class="p">():</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-114" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-114" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-114"></a>    <span class="sd">"""</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-115" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-115" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-115"></a><span class="sd">    single host definition , "fab test restart" wil restart this one host</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-116" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-116" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-116"></a>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-117" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-117" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-117"></a><span class="sd">    """</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-118" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-118" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-118"></a>    <span class="n">env</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="n">SERVERS</span><span class="p">[</span><span class="s1">'test'</span><span class="p">]))</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-119" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-119" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-119"></a>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-120" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-120" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-120"></a>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-121" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-121" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-121"></a><span class="k">def</span> <span class="nf">localhost</span><span class="p">():</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-122" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-122" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-122"></a>    <span class="sd">"""</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-123" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-123" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-123"></a><span class="sd">    single host definition , "fab test restart" wil restart this one host</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-124" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-124" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-124"></a>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-125" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-125" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-125"></a><span class="sd">    """</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-126" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-126" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-126"></a>    <span class="n">env</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="n">SERVERS</span><span class="p">[</span><span class="s1">'local'</span><span class="p">]))</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-127" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-127" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-127"></a>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-128" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-128" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-128"></a>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-129" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-129" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-129"></a><span class="k">def</span> <span class="nf">uat</span><span class="p">():</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-130" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-130" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-130"></a>    <span class="sd">"""</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-131" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-131" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-131"></a><span class="sd">    single host definition , "fab uat restart" wil restart this single host</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-132" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-132" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-132"></a>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-133" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-133" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-133"></a><span class="sd">    """</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-134" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-134" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-134"></a>    <span class="n">env</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="n">SERVERS</span><span class="p">[</span><span class="s1">'uat'</span><span class="p">]))</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-135" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-135" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-135"></a>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-136" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-136" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-136"></a>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-137" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-137" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-137"></a><span class="k">def</span> <span class="nf">sit</span><span class="p">():</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-138" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-138" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-138"></a>    <span class="sd">"""</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-139" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-139" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-139"></a><span class="sd">    single host</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-140" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-140" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-140"></a>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-141" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-141" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-141"></a><span class="sd">    """</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-142" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-142" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-142"></a>    <span class="n">env</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="n">SERVERS</span><span class="p">[</span><span class="s1">'sit'</span><span class="p">]))</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-143" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-143" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-143"></a>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-144" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-144" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-144"></a>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-145" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-145" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-145"></a><span class="c1">#  SERVERS GRcompanyS DEFINITION</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-146" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-146" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-146"></a><span class="k">def</span> <span class="nf">live</span><span class="p">():</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-147" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-147" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-147"></a>    <span class="sd">"""</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-148" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-148" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-148"></a><span class="sd">    multiple grcompany of hosts - running: "fab live restart" will restart all live servers</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-149" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-149" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-149"></a>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-150" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-150" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-150"></a><span class="sd">    """</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-151" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-151" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-151"></a>    <span class="n">env</span><span class="p">[</span><span class="s1">'hosts'</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">SERVERS</span><span class="p">[</span><span class="n">a</span><span class="p">][</span><span class="s1">'host'</span><span class="p">]</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">LIVE_HOSTS</span><span class="p">]</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-152" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-152" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-152"></a>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-153" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-153" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-153"></a>    <span class="c1"># env.update(dict(SERVERS['staging']))</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-154" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-154" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-154"></a>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-155" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-155" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-155"></a>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-156" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-156" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-156"></a><span class="k">def</span> <span class="nf">env_update</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-157" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-157" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-157"></a>    <span class="sd">"""</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-158" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-158" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-158"></a><span class="sd">    Decorator - needs to be added to each task in fabricfile - for multiple host task execution</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-159" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-159" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-159"></a><span class="sd">    """</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-160" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-160" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-160"></a>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-161" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-161" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-161"></a>    <span class="k">def</span> <span class="nf">func_wrapper</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-162" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-162" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-162"></a>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">len</span><span class="p">(</span><span class="n">env</span><span class="o">.</span><span class="n">hosts</span><span class="p">):</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-163" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-163" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-163"></a>            <span class="k">return</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-164" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-164" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-164"></a>        <span class="k">else</span><span class="p">:</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-165" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-165" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-165"></a>            <span class="n">env</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="n">SERVERS</span><span class="p">[</span><span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">SERVERS</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="s1">'host'</span><span class="p">]</span> <span class="o">==</span> <span class="n">env</span><span class="o">.</span><span class="n">host</span><span class="p">,</span> <span class="n">MyApp_SERVERS</span><span class="p">)[</span><span class="mi">0</span><span class="p">]]))</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-166" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-166" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-166"></a>            <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-167" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-167" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-167"></a>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-168" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-168" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-168"></a>    <span class="k">return</span> <span class="n">func_wrapper</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-169" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-169" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-169"></a>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-170" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-170" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-170"></a>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-171" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-171" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-171"></a><span class="nd">@env_update</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-172" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-172" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-172"></a><span class="k">def</span> <span class="nf">bundle_media</span><span class="p">():</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-173" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-173" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-173"></a>    <span class="sd">"""</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-174" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-174" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-174"></a><span class="sd">    bundles media like css and js to one file.</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-175" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-175" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-175"></a><span class="sd">    example:</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-176" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-176" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-176"></a><span class="sd">        fab test bundle_media</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-177" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-177" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-177"></a><span class="sd">    """</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-178" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-178" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-178"></a>    <span class="c1"># export DJANGO_SETTINGS_MODULE=settings</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-179" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-179" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-179"></a>    <span class="c1">#run("cd {0} &amp;&amp; source settings/{1}-config.sh &amp;&amp; python scripts/bundle_media.py".format(env.path,env.envname))</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-180" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-180" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-180"></a>   <span class="n">run</span><span class="p">(</span><span class="s2">"source /usr/share/virtualenvwrapper/virtualenvwrapper.sh &amp;&amp; workon </span><span class="si">{0}</span><span class="s2"> &amp;&amp; python scripts/bundle_media.py"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s2">"</span><span class="si">%s</span><span class="s2">-myapp"</span> <span class="o">%</span> <span class="n">env</span><span class="o">.</span><span class="n">envname</span> <span class="k">if</span> <span class="n">env</span><span class="o">.</span><span class="n">envname</span><span class="o">&lt;&gt;</span> <span class="s1">'live'</span> <span class="k">else</span> <span class="s1">'MyApp-test'</span><span class="p">))</span> <span class="c1">#change live venv to be live-MyApp</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-181" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-181" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-181"></a>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-182" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-182" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-182"></a><span class="k">def</span> <span class="nf">_valid_branch</span><span class="p">(</span><span class="n">env</span><span class="p">):</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-183" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-183" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-183"></a>    <span class="n">branch</span> <span class="o">=</span> <span class="n">run</span><span class="p">(</span><span class="s2">"cd </span><span class="si">{0}</span><span class="s2"> &amp;&amp; git rev-parse --abbrev-ref HEAD"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">env</span><span class="o">.</span><span class="n">path</span><span class="p">))</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-184" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-184" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-184"></a>    <span class="k">return</span> <span class="n">branch</span> <span class="o">==</span> <span class="n">SERVER_BRANCHES</span><span class="p">[</span><span class="n">env</span><span class="o">.</span><span class="n">envname</span><span class="p">]</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">env</span><span class="o">.</span><span class="n">envname</span><span class="o">==</span><span class="s1">'local'</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-185" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-185" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-185"></a>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-186" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-186" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-186"></a>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-187" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-187" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-187"></a><span class="nd">@env_update</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-188" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-188" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-188"></a><span class="k">def</span> <span class="nf">pull</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-189" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-189" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-189"></a>    <span class="k">if</span> <span class="n">_valid_branch</span><span class="p">(</span><span class="n">env</span><span class="p">):</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-190" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-190" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-190"></a>        <span class="k">with</span> <span class="n">cd</span><span class="p">(</span><span class="n">env</span><span class="o">.</span><span class="n">path</span><span class="p">):</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-191" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-191" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-191"></a>            <span class="n">run</span><span class="p">(</span><span class="s2">"git fetch origin"</span><span class="p">)</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-192" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-192" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-192"></a>            <span class="n">run</span><span class="p">(</span><span class="s2">"git reset --hard origin/</span><span class="si">%s</span><span class="s2">"</span> <span class="o">%</span> <span class="n">branch</span><span class="p">)</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-193" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-193" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-193"></a>    <span class="k">else</span><span class="p">:</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-194" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-194" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-194"></a>        <span class="nb">print</span> <span class="s2">"Error : Server is checked out to wrong branch!!!"</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-195" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-195" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-195"></a>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-196" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-196" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-196"></a>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-197" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-197" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-197"></a>            <span class="c1">#run('git fetch --quiet')</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-198" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-198" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-198"></a>            <span class="c1">#run('git fetch --tags --quiet')</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-199" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-199" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-199"></a>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-200" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-200" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-200"></a><span class="nd">@env_update</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-201" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-201" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-201"></a><span class="k">def</span> <span class="nf">reload</span><span class="p">():</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-202" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-202" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-202"></a>    <span class="sd">"""</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-203" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-203" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-203"></a><span class="sd">    Reload specified servers - kills unused gunicorn workers but waits workers with old code to finish processing.</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-204" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-204" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-204"></a>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-205" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-205" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-205"></a><span class="sd">    """</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-206" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-206" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-206"></a>    <span class="n">bundle_media</span><span class="p">()</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-207" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-207" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-207"></a>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-208" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-208" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-208"></a>    <span class="c1">#if env.envname in ('uat', 'staging', 'live'):</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-209" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-209" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-209"></a>    <span class="n">f</span> <span class="o">=</span> <span class="n">StringIO</span><span class="p">()</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-210" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-210" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-210"></a>    <span class="n">get</span><span class="p">(</span><span class="s2">"/opt/myapp/</span><span class="si">%s</span><span class="s2">/pid"</span> <span class="o">%</span> <span class="n">env</span><span class="o">.</span><span class="n">envname</span><span class="p">,</span><span class="n">f</span><span class="p">)</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-211" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-211" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-211"></a>    <span class="n">pid</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s1">'\d+'</span><span class="p">,</span><span class="n">f</span><span class="o">.</span><span class="n">getvalue</span><span class="p">())</span><span class="o">.</span><span class="n">group</span><span class="p">()</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-212" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-212" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-212"></a>    <span class="n">run</span><span class="p">(</span><span class="s2">"ps aux | grep gunicorn | grep </span><span class="si">%s</span><span class="s2"> | grep master | grep -v grep | awk '{print $2}'"</span> <span class="o">%</span> <span class="n">env</span><span class="o">.</span><span class="n">envname</span><span class="p">)</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-213" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-213" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-213"></a>    <span class="n">run</span><span class="p">(</span><span class="s2">"kill -HUP </span><span class="si">%s</span><span class="s2">"</span> <span class="o">%</span> <span class="n">pid</span><span class="p">)</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-214" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-214" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-214"></a>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-215" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-215" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-215"></a>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-216" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-216" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-216"></a><span class="nd">@env_update</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-217" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-217" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-217"></a><span class="k">def</span> <span class="nf">restart</span><span class="p">():</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-218" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-218" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-218"></a>    <span class="sd">"""</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-219" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-219" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-219"></a><span class="sd">    Hard restarts specified servers</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-220" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-220" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-220"></a>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-221" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-221" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-221"></a><span class="sd">    """</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-222" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-222" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-222"></a>    <span class="n">bundle_media</span><span class="p">()</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-223" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-223" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-223"></a>    <span class="n">run</span><span class="p">(</span><span class="s2">"ps aux | grep gunicorn | grep </span><span class="si">%s</span><span class="s2"> | grep master | grep -v grep | awk '{print $2}'"</span> <span class="o">%</span> <span class="n">env</span><span class="o">.</span><span class="n">envname</span><span class="p">)</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-224" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-224" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-224"></a>    <span class="n">run</span><span class="p">(</span><span class="s2">"supervisorctl stop myapp-</span><span class="si">%s</span><span class="s2"> &amp;&amp; supervisorctl start MyApp-</span><span class="si">%s</span><span class="s2">"</span> <span class="o">%</span> <span class="p">(</span><span class="n">env</span><span class="o">.</span><span class="n">envname</span><span class="p">,</span><span class="n">env</span><span class="o">.</span><span class="n">envname</span><span class="p">))</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-225" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-225" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-225"></a>    <span class="n">run</span><span class="p">(</span><span class="s2">"ps aux | grep gunicorn | grep </span><span class="si">%s</span><span class="s2"> | grep master | grep -v grep | awk '{print $2}'"</span> <span class="o">%</span> <span class="n">env</span><span class="o">.</span><span class="n">envname</span><span class="p">)</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-226" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-226" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-226"></a>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-227" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-227" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-227"></a>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-228" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-228" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-228"></a><span class="k">def</span> <span class="nf">help</span><span class="p">():</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-229" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-229" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-229"></a>    <span class="n">fabric_functions</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'run'</span><span class="p">,</span> <span class="s1">'execute'</span><span class="p">,</span> <span class="s1">'local'</span><span class="p">,</span> <span class="s1">'func_wrapper'</span><span class="p">]</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-230" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-230" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-230"></a>    <span class="n">functions</span> <span class="o">=</span> <span class="nb">set</span><span class="p">([</span><span class="n">obj</span><span class="o">.</span><span class="vm">__name__</span> <span class="k">if</span> <span class="n">obj</span><span class="o">.</span><span class="vm">__name__</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">fabric_functions</span> <span class="k">else</span> <span class="s1">''</span> <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">obj</span> <span class="ow">in</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-231" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-231" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-231"></a>                     <span class="n">inspect</span><span class="o">.</span><span class="n">getmembers</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">modules</span><span class="p">[</span><span class="vm">__name__</span><span class="p">])</span> <span class="k">if</span> <span class="n">inspect</span><span class="o">.</span><span class="n">isfunction</span><span class="p">(</span><span class="n">obj</span><span class="p">)])</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-232" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-232" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-232"></a>    <span class="n">functions</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">''</span><span class="p">)</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-233" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-233" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-233"></a>    <span class="nb">print</span> <span class="s2">"usage: </span><span class="se">\n</span><span class="s2">  fab [host/grcompany of hosts] [commands] (optional command with arguments command:kwarg=val,arg1,arg2,arg3)"</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-234" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-234" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-234"></a>    <span class="nb">print</span> <span class="s2">"</span><span class="se">\n</span><span class="s2">available servers:"</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-235" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-235" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-235"></a>    <span class="n">list_hosts</span><span class="p">()</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-236" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-236" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-236"></a>    <span class="nb">print</span> <span class="s2">"</span><span class="se">\n</span><span class="s2">commands:</span><span class="se">\n</span><span class="s2">  </span><span class="si">%s</span><span class="s2">"</span> <span class="o">%</span> <span class="s1">', '</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">a</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">functions</span><span class="p">])</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-237" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-237" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-237"></a>    <span class="nb">print</span> <span class="s2">"</span><span class="se">\n</span><span class="s2">examples:</span><span class="se">\n</span><span class="s2">  staging svnxapp:app=holdings_and_quotes,layout.py,permissions.py restart"</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-238" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-238" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-238"></a>    <span class="nb">print</span> <span class="s2">"  fab test restart"</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-239" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-239" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-239"></a>    <span class="nb">print</span> <span class="s2">"  fab staging svnxapp:app=holdings_and_quotes,lib/quote.py,layout.py,models.py"</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-240" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-240" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-240"></a>    <span class="nb">print</span> <span class="s2">"  fab staging svnxapp:app=holdings_and_quotes,lib/quote.py restart"</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-241" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-241" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-241"></a>    <span class="nb">print</span> <span class="s2">"  fab test build"</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-242" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-242" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-242"></a>    <span class="nb">print</span> <span class="s2">"  fab test bundle_media restart"</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-243" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-243" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-243"></a>    <span class="nb">print</span> <span class="s2">" For svnx whole app (comma in the end):"</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-244" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-244" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-244"></a>    <span class="nb">print</span> <span class="s2">"  fab test svnxapp:app=medrep,"</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-245" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-245" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-245"></a>    <span class="nb">print</span> <span class="s2">" For global lib:"</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-246" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-246" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-246"></a>    <span class="nb">print</span> <span class="s2">"  fab test svnxlib"</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-247" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-247" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-247"></a>    <span class="nb">print</span> <span class="s2">" For whole global media:"</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-248" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-248" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-248"></a>    <span class="nb">print</span> <span class="s2">"  fab test svnxmedia:"</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-249" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-249" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-249"></a>    <span class="nb">print</span> <span class="s2">" For global media file:"</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-250" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-250" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-250"></a>    <span class="nb">print</span> <span class="s2">"  fab test svnxmedia:javascript"</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-251" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-251" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-251"></a>    <span class="nb">print</span> <span class="s2">"  fab test svnxmedia:javascript/company/checklist.js"</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-252" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-252" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-252"></a>    <span class="nb">print</span> <span class="s2">"</span><span class="se">\n</span><span class="s2">If .js file in args like : fab staging svnxapp:app=holdings_and_quotes,media/js/quote.js,layout.py,models.py"</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-253" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-253" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-253"></a>    <span class="nb">print</span> <span class="s2">"It will bundle media itself"</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-254" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-254" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-254"></a>    <span class="nb">print</span> <span class="s2">"Restart test staging without params:</span><span class="se">\n</span><span class="s2">  fab restart"</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-255" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-255" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-255"></a>    <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">functions</span><span class="p">:</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-256" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-256" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-256"></a>        <span class="nb">print</span> <span class="n">f</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-257" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-257" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-257"></a>        <span class="nb">print</span> <span class="nb">globals</span><span class="p">()[</span><span class="n">f</span><span class="p">]</span><span class="o">.</span><span class="vm">__doc__</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-258" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-258" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-258"></a>        <span class="nb">print</span> <span class="s2">"</span><span class="se">\n</span><span class="s2">"</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-259" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-259" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-259"></a>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-260" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-260" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-260"></a>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-261" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-261" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-261"></a>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-262" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-262" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-262"></a><span class="nd">@env_update</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-263" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-263" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-263"></a><span class="k">def</span> <span class="nf">accessguni</span><span class="p">():</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-264" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-264" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-264"></a>    <span class="n">run</span><span class="p">(</span><span class="s2">"tail /var/log/myapp/access-</span><span class="si">%s</span><span class="s2">.log"</span> <span class="o">%</span> <span class="n">env</span><span class="o">.</span><span class="n">envname</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="p">)</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-265" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-265" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-265"></a>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-266" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-266" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-266"></a><span class="nd">@env_update</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-267" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-267" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-267"></a><span class="k">def</span> <span class="nf">accessgunilive</span><span class="p">():</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-268" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-268" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-268"></a>    <span class="n">run</span><span class="p">(</span><span class="s2">"tail -f /var/log/myapp/access-</span><span class="si">%s</span><span class="s2">.log"</span> <span class="o">%</span> <span class="n">env</span><span class="o">.</span><span class="n">envname</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="p">)</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-269" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-269" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-269"></a>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-270" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-270" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-270"></a><span class="nd">@env_update</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-271" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-271" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-271"></a><span class="k">def</span> <span class="nf">errorguni</span><span class="p">():</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-272" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-272" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-272"></a>    <span class="n">run</span><span class="p">(</span><span class="s2">"tail /var/log/myapp/error-</span><span class="si">%s</span><span class="s2">.log"</span> <span class="o">%</span> <span class="n">env</span><span class="o">.</span><span class="n">envname</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="p">)</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-273" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-273" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-273"></a>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-274" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-274" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-274"></a><span class="nd">@env_update</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-275" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-275" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-275"></a><span class="k">def</span> <span class="nf">errorgunilive</span><span class="p">():</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-276" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-276" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-276"></a>    <span class="n">run</span><span class="p">(</span><span class="s2">"tail -f /var/log/myapp/error.log"</span> <span class="o">%</span> <span class="n">env</span><span class="o">.</span><span class="n">envname</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="p">)</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-277" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-277" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-277"></a>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-278" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-278" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-278"></a><span class="k">def</span> <span class="nf">hostname</span><span class="p">():</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-279" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-279" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-279"></a>    <span class="n">run</span><span class="p">(</span><span class="s1">'uname -a'</span><span class="p">)</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-280" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-280" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-280"></a>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-281" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-281" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-281"></a><span class="nd">@env_update</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-282" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-282" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-282"></a><span class="k">def</span> <span class="nf">uptime</span><span class="p">():</span>
<a id="rest_code_f156e956ff6a4dbba9de314cd57dc702-283" name="rest_code_f156e956ff6a4dbba9de314cd57dc702-283" href="posts/fabric-auto-deployment-script.html#rest_code_f156e956ff6a4dbba9de314cd57dc702-283"></a>    <span class="n">run</span><span class="p">(</span><span class="s1">'uptime'</span><span class="p">)</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/nikola-error-command-x86_64-linux-gnu-gcc-failed-with-exit-status-1.html" class="u-url">Nikola error: command 'x86_64-linux-gnu-gcc' failed with exit status 1</a></h1>
        <div class="metadata">
            <p class="dateline"><a href="posts/nikola-error-command-x86_64-linux-gnu-gcc-failed-with-exit-status-1.html" rel="bookmark"><i class="fa fa-clock"></i> <time class="published dt-published" datetime="2015-03-12T21:14:24Z" title="2015-03-12 21:14">2015-03-12 21:14</time></a></p>
            <p class="byline author vcard"> <i class="fa fa-user"></i> <span class="byline-name fn" itemprop="author">
                Greg Stencel
            </span></p>
                <p class="commentline"><i class="fa fa-comment"></i> 
    
    <a href="posts/nikola-error-command-x86_64-linux-gnu-gcc-failed-with-exit-status-1.html#disqus_thread" data-disqus-identifier="cache/posts/nikola-error-command-x86_64-linux-gnu-gcc-failed-with-exit-status-1.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <p>this helped
sudo apt-get install libxml2-dev libxslt1-dev</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/comodo-positive-ssl-sec_error_unknown_issuer-firefox.html" class="u-url">comodo-positive-ssl-sec_error_unknown_issuer-firefox</a></h1>
        <div class="metadata">
            <p class="dateline"><a href="posts/comodo-positive-ssl-sec_error_unknown_issuer-firefox.html" rel="bookmark"><i class="fa fa-clock"></i> <time class="published dt-published" datetime="2015-03-12T10:26:23Z" title="2015-03-12 10:26">2015-03-12 10:26</time></a></p>
            <p class="byline author vcard"> <i class="fa fa-user"></i> <span class="byline-name fn" itemprop="author">
                Greg Stencel
            </span></p>
                <p class="commentline"><i class="fa fa-comment"></i> 
    
    <a href="posts/comodo-positive-ssl-sec_error_unknown_issuer-firefox.html#disqus_thread" data-disqus-identifier="cache/posts/comodo-positive-ssl-sec_error_unknown_issuer-firefox.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <p>Tempted by post on official google admins blog <a class="reference external" href="http://googlewebmastercentral.blogspot.co.uk/2014/08/https-as-ranking-signal.html">http://googlewebmastercentral.blogspot.co.uk/2014/08/https-as-ranking-signal.html</a>
it's about higher ranking when having https. So I have recently bought cheap ssl certificate from known issuer COMODO
and upgraded my server with it but it caused several problems when I redirected from 80 to 443 some 3rd party apps (like
userena for django) created loops but I found solution quickly it was to put USERENA_USE_HTTPS=True in settings.py but
it still sends more forgot password mails than it should but it's different story.</p>
<p>Comming back to point if you are experiencing error "sec_error_unknown_issuer" in firefox
after implementing COMODO Positive-SSL certificate this solution may help you.
Don't know exactly but I read that it has something to do with chain certificates
they should be bundled inside you website certificate.
And remember you have to do it in right order because first one should be your servers certificate
cause it's signed with key) and nginx or whatever you use may have problems after reloading service.</p>
<p>My command for bundling was:</p>
<p>cat exerceo_pl.crt COMODORSADomainValidationSecureServerCA.crt COMODORSAAddTrustCA.crt AddTrustExternalCARoot.crt &gt;
exerceo_pl.bundled.crt
after that I had just to point my nginx.conf to new bundled certificate.
And after all reaload of nginx fixed my unknow issuer firefox problem.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/xrandr-tips.html" class="u-url">xrandr tips</a></h1>
        <div class="metadata">
            <p class="dateline"><a href="posts/xrandr-tips.html" rel="bookmark"><i class="fa fa-clock"></i> <time class="published dt-published" datetime="2015-01-13T20:34:57Z" title="2015-01-13 20:34">2015-01-13 20:34</time></a></p>
            <p class="byline author vcard"> <i class="fa fa-user"></i> <span class="byline-name fn" itemprop="author">
                Greg Stencel
            </span></p>
                <p class="commentline"><i class="fa fa-comment"></i> 
    
    <a href="posts/xrandr-tips.html#disqus_thread" data-disqus-identifier="cache/posts/xrandr-tips.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <p>adding resolution
1)generate mode
cvt 2560 1440 60
  blog git:(website)  cvt 2560 1440 60
# 2560x1440 59.96 Hz (CVT 3.69M9) hsync: 89.52 kHz; pclk: 312.25 MHz
Modeline "2560x1440_60.00"  312.25  2560 2752 3024 3488  1440 1443 1448 1493 -hsync +vsync</p>
<p>2)add it to xrandr
sudo xrandr --newmode "2560x1440_60.00"  312.25  2560 2752 3024 3488  1440 1443 1448 1493  -hsync +vsync
setting resolution</p>
<p>3)sudo xrandr --addmode VGA-0 "1680x1050_60.00"</p>
<p>xrandr -q
xrandr --verbose</p>
<p>xrandr --output HDMI-0 --mode 2560x1440</p>
<p>irst generate a "modeline" by using cvt
Syntax is: cvt width height refreshrate</p>
<p>cvt 1680 1050 60
this gives you:</p>
<p># 1680x1050 59.95 Hz (CVT 1.76MA) hsync: 65.29 kHz; pclk: 146.25 MHz
Modeline "1680x1050_60.00"  146.25  1680 1784 1960 2240  1050 1053 1059 1089 -hsync +vsync
Now tell this to xrandr:</p>
<p>sudo xrandr --newmode "1680x1050_60.00"  146.25  1680 1784 1960 2240  1050 1053 1059 1089 -</p>
<p>First clone the two screens, (the smaller screen will display the top left portion of the virtual screen)</p>
<blockquote>
<p>xrandr --output VGA --auto --right-of LVDS</p>
<p>xrandr --output LVDS --mode 1280x800</p>
<p>xrandr --output LVDS --mode 1280x800 --rate 75</p>
<p>xrandr --output LVDS --auto</p>
<p>xrandr --output LVDS --off --output HDMI-0 --auto</p>
<p>xrandr --output VGA1 --mode 1024x768 --rate 60</p>
</blockquote>
<p>#Laptop right extra Monitor Left</p>
<blockquote>
<p>xrandr --output VGA1 --left-of LVDS1</p>
</blockquote>
<p>#Laptop left extra Monitor right</p>
<blockquote>
<p>xrandr --output LVDS1 --left-of VGA1</p>
</blockquote>
<p>#This is to set your primary monitor.</p>
<p>#This sets your laptop monitor as your primary monitor.</p>
<blockquote>
<p>xrandr --output LVDS1 --primary</p>
</blockquote>
<p>#This sets your VGA monitor as your primary monitor.</p>
<blockquote>
<p>xrandr --output VGA1 --primary</p>
<p>xrandr --output VGA1 --mode 1024x768 --rate 60</p>
</blockquote>
<p>xrandr --pos &lt;x&gt;x&lt;y&gt;</p>
<blockquote>
<p>$ xrandr --left-of &lt;output&gt;</p>
<p>$ xrandr --right-of &lt;output&gt;</p>
<p>$ xrandr --above &lt;output&gt;</p>
<p>$ xrandr --below &lt;output&gt;</p>
</blockquote>
<p>Option '-pos' is more flexible which can place output to anywhere, for example:</p>
<p>$ xrandr --output VGA1 --pos 200x200
$ xrandr --output LVDS1 --pos 400x500</p>
<p>xrandr -o right</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/django-display-choices-defined-in-models-in-template.html" class="u-url">Django Display choices defined in models in template</a></h1>
        <div class="metadata">
            <p class="dateline"><a href="posts/django-display-choices-defined-in-models-in-template.html" rel="bookmark"><i class="fa fa-clock"></i> <time class="published dt-published" datetime="2014-11-02T14:14:56Z" title="2014-11-02 14:14">2014-11-02 14:14</time></a></p>
            <p class="byline author vcard"> <i class="fa fa-user"></i> <span class="byline-name fn" itemprop="author">
                Greg Stencel
            </span></p>
                <p class="commentline"><i class="fa fa-comment"></i> 
    
    <a href="posts/django-display-choices-defined-in-models-in-template.html#disqus_thread" data-disqus-identifier="cache/posts/django-display-choices-defined-in-models-in-template.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <p>example:
Having model:</p>
<div class="code"><pre class="code python"><a id="rest_code_569d860fd8ca4a32924031a4970d9631-1" name="rest_code_569d860fd8ca4a32924031a4970d9631-1" href="posts/django-display-choices-defined-in-models-in-template.html#rest_code_569d860fd8ca4a32924031a4970d9631-1"></a><span class="n">GENDER</span><span class="o">=</span> <span class="p">(</span>
<a id="rest_code_569d860fd8ca4a32924031a4970d9631-2" name="rest_code_569d860fd8ca4a32924031a4970d9631-2" href="posts/django-display-choices-defined-in-models-in-template.html#rest_code_569d860fd8ca4a32924031a4970d9631-2"></a>    <span class="p">(</span><span class="mi">1</span> <span class="p">,</span> <span class="s1">'Male'</span><span class="p">),</span>
<a id="rest_code_569d860fd8ca4a32924031a4970d9631-3" name="rest_code_569d860fd8ca4a32924031a4970d9631-3" href="posts/django-display-choices-defined-in-models-in-template.html#rest_code_569d860fd8ca4a32924031a4970d9631-3"></a>    <span class="p">(</span><span class="mi">0</span> <span class="p">,</span> <span class="s1">'Female'</span><span class="p">),</span>
<a id="rest_code_569d860fd8ca4a32924031a4970d9631-4" name="rest_code_569d860fd8ca4a32924031a4970d9631-4" href="posts/django-display-choices-defined-in-models-in-template.html#rest_code_569d860fd8ca4a32924031a4970d9631-4"></a><span class="p">)</span>
<a id="rest_code_569d860fd8ca4a32924031a4970d9631-5" name="rest_code_569d860fd8ca4a32924031a4970d9631-5" href="posts/django-display-choices-defined-in-models-in-template.html#rest_code_569d860fd8ca4a32924031a4970d9631-5"></a>
<a id="rest_code_569d860fd8ca4a32924031a4970d9631-6" name="rest_code_569d860fd8ca4a32924031a4970d9631-6" href="posts/django-display-choices-defined-in-models-in-template.html#rest_code_569d860fd8ca4a32924031a4970d9631-6"></a><span class="k">class</span> <span class="nc">Profile</span><span class="p">(</span><span class="n">UserenaBaseProfile</span><span class="p">):</span>
<a id="rest_code_569d860fd8ca4a32924031a4970d9631-7" name="rest_code_569d860fd8ca4a32924031a4970d9631-7" href="posts/django-display-choices-defined-in-models-in-template.html#rest_code_569d860fd8ca4a32924031a4970d9631-7"></a>    <span class="n">name</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span><span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<a id="rest_code_569d860fd8ca4a32924031a4970d9631-8" name="rest_code_569d860fd8ca4a32924031a4970d9631-8" href="posts/django-display-choices-defined-in-models-in-template.html#rest_code_569d860fd8ca4a32924031a4970d9631-8"></a>    <span class="n">surname</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span><span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<a id="rest_code_569d860fd8ca4a32924031a4970d9631-9" name="rest_code_569d860fd8ca4a32924031a4970d9631-9" href="posts/django-display-choices-defined-in-models-in-template.html#rest_code_569d860fd8ca4a32924031a4970d9631-9"></a>    <span class="n">sex</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">NullBooleanField</span><span class="p">(</span><span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">choices</span><span class="o">=</span><span class="n">GENDER</span><span class="p">)</span>
<a id="rest_code_569d860fd8ca4a32924031a4970d9631-10" name="rest_code_569d860fd8ca4a32924031a4970d9631-10" href="posts/django-display-choices-defined-in-models-in-template.html#rest_code_569d860fd8ca4a32924031a4970d9631-10"></a>    <span class="n">born</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">DateTimeField</span><span class="p">(</span><span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<a id="rest_code_569d860fd8ca4a32924031a4970d9631-11" name="rest_code_569d860fd8ca4a32924031a4970d9631-11" href="posts/django-display-choices-defined-in-models-in-template.html#rest_code_569d860fd8ca4a32924031a4970d9631-11"></a>
<a id="rest_code_569d860fd8ca4a32924031a4970d9631-12" name="rest_code_569d860fd8ca4a32924031a4970d9631-12" href="posts/django-display-choices-defined-in-models-in-template.html#rest_code_569d860fd8ca4a32924031a4970d9631-12"></a>    <span class="k">def</span> <span class="nf">__unicode__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="rest_code_569d860fd8ca4a32924031a4970d9631-13" name="rest_code_569d860fd8ca4a32924031a4970d9631-13" href="posts/django-display-choices-defined-in-models-in-template.html#rest_code_569d860fd8ca4a32924031a4970d9631-13"></a>        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
</pre></div>
<p>we can display Male or Female choice value in template by:</p>
<div class="code"><pre class="code python"><a id="rest_code_4d0b4b780418406aadbd17d2d2900462-1" name="rest_code_4d0b4b780418406aadbd17d2d2900462-1" href="posts/django-display-choices-defined-in-models-in-template.html#rest_code_4d0b4b780418406aadbd17d2d2900462-1"></a><span class="p">{{</span><span class="n">profile</span><span class="o">.</span><span class="n">get_sex_display</span><span class="p">}}</span>
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-3.html" rel="next">Older posts</a>
            </li>
        </ul></nav><script>var disqus_shortname="stencel";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script><footer id="footer"><p>Contents  2023         <a href="mailto:gstencel@gmail.com">Greg Stencel</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         </p>
            
        </footer>
</div>
    </section><script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-50641127-1', 'stencel.io');
  ga('send', 'pageview');

</script><script type="text/javascript" src="assets/js/tipuesearch_set.js"></script><script type="text/javascript" src="assets/js/tipuesearch.js"></script><script type="text/javascript">
$(document).ready(function() {
     $('#tipue_search_input').tipuesearch({
         'mode': 'json',
         'contentLocation': '/assets/js/tipuesearch_content.json',
         'showUrl': false
     });
});
</script>
</body>
</html>
