<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="../assets/xml/rss.xsl" media="all"?><rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Greg's Tech Notes (Posts about Databases)</title><link>https://stencel.io/</link><description></description><atom:link href="https://stencel.io/categories/cat_databases.xml" rel="self" type="application/rss+xml"></atom:link><language>en</language><copyright>Contents © 2025 &lt;a href="mailto:gstencel@gmail.com"&gt;Greg Stencel&lt;/a&gt; </copyright><lastBuildDate>Fri, 11 Apr 2025 06:59:44 GMT</lastBuildDate><generator>Nikola (getnikola.com)</generator><docs>http://blogs.law.harvard.edu/tech/rss</docs><item><title>mysql update with random values from list</title><link>https://stencel.io/posts/mysql-update-with-random-values-from-list.html</link><dc:creator>Greg Stencel</dc:creator><description>&lt;p&gt;“UPDATE book set year = ELT(1+FLOOR(RAND()*3), 2012,2013,2014)”&lt;/p&gt;</description><category>Databases</category><category>MySQL</category><guid>https://stencel.io/posts/mysql-update-with-random-values-from-list.html</guid><pubDate>Tue, 28 Oct 2014 19:57:25 GMT</pubDate></item><item><title>postgres-terminate-connection</title><link>https://stencel.io/posts/postgres-terminate-connection.html</link><dc:creator>Greg Stencel</dc:creator><description>&lt;div class="code"&gt;&lt;pre class="code psql"&gt;&lt;a id="rest_code_ff65d07c0516452ca1b23757d782ca4b-1" name="rest_code_ff65d07c0516452ca1b23757d782ca4b-1" href="https://stencel.io/posts/postgres-terminate-connection.html#rest_code_ff65d07c0516452ca1b23757d782ca4b-1"&gt;&lt;/a&gt;&lt;span class="k"&gt;select&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;pg_terminate_backend&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;pid&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a id="rest_code_ff65d07c0516452ca1b23757d782ca4b-2" name="rest_code_ff65d07c0516452ca1b23757d782ca4b-2" href="https://stencel.io/posts/postgres-terminate-connection.html#rest_code_ff65d07c0516452ca1b23757d782ca4b-2"&gt;&lt;/a&gt;&lt;span class="k"&gt;from&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;pg_stat_activity&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</description><guid>https://stencel.io/posts/postgres-terminate-connection.html</guid><pubDate>Tue, 13 May 2014 18:23:47 GMT</pubDate></item><item><title>MySQL</title><link>https://stencel.io/posts/mysql.html</link><dc:creator>Greg Stencel</dc:creator><description>&lt;section id="mysql-tips"&gt;
&lt;h2&gt;MySQL tips:&lt;/h2&gt;
&lt;p&gt;Create database with charset utf8&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre class="code sql"&gt;&lt;a id="rest_code_7aaa91e4acad4e69b8d42c7e8128ae78-1" name="rest_code_7aaa91e4acad4e69b8d42c7e8128ae78-1" href="https://stencel.io/posts/mysql.html#rest_code_7aaa91e4acad4e69b8d42c7e8128ae78-1"&gt;&lt;/a&gt;&lt;span class="k"&gt;CREATE&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;DATABASE&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;mynew_db_name&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;CHARACTER&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;SET&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;utf8&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;COLLATE&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;utf8_general_ci&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Grant everything to local user on all tables&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre class="code sql"&gt;&lt;a id="rest_code_bb4f3a0ad71342a6b51767d9d165f5b4-1" name="rest_code_bb4f3a0ad71342a6b51767d9d165f5b4-1" href="https://stencel.io/posts/mysql.html#rest_code_bb4f3a0ad71342a6b51767d9d165f5b4-1"&gt;&lt;/a&gt;&lt;span class="k"&gt;GRANT&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;ALL&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;PRIVILEGES&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;ON&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;db_name&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;TO&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;my_user&lt;/span&gt;&lt;span class="o"&gt;@&lt;/span&gt;&lt;span class="n"&gt;localhost&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;IDENTIFIED&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;BY&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;'my_secret_password'&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Grant everything to remote user on all tables&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre class="code sql"&gt;&lt;a id="rest_code_b18f1fd2b5db429c8111919e449e0c76-1" name="rest_code_b18f1fd2b5db429c8111919e449e0c76-1" href="https://stencel.io/posts/mysql.html#rest_code_b18f1fd2b5db429c8111919e449e0c76-1"&gt;&lt;/a&gt;&lt;span class="k"&gt;GRANT&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;ALL&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;PRIVILEGES&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;ON&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="n"&gt;db_name&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;TO&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;my_user&lt;/span&gt;&lt;span class="o"&gt;@&lt;/span&gt;&lt;span class="s1"&gt;'IP_of_host_user_connects_from'&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;IDENTIFIED&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;BY&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;'my_secret_password'&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If you want to add only &lt;strong&gt;SELECT&lt;/strong&gt; or something else instead of &lt;strong&gt;ALL&lt;/strong&gt; there are other available privileges like:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;SELECT, UPDATE, ALTER, CREATE, DELETE, DROP, SHOW DATABASES&lt;/strong&gt;
CREATE TEMPORARY TABLES, EXECUTE, FILE, GRANT OPTION, INDEX, INSERT, LOCK TABLES, PROCESS, REFERENCES, RELOAD, REPLICATION CLIENT, REPLICATION SLAVE, SHUTDOWN, SUPER, USAGE&lt;/p&gt;
&lt;p&gt;After all you want to reload privileges because when mysqld starts, it reads all grant table contents into memory. The in-memory tables become effective for access control at that point.
To tell the server to reload the grant tables, perform a flush-privileges operation.&lt;/p&gt;
&lt;p&gt;Execute sql :&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre class="code sql"&gt;&lt;a id="rest_code_0e3278881473494b878652bef1fe8ef1-1" name="rest_code_0e3278881473494b878652bef1fe8ef1-1" href="https://stencel.io/posts/mysql.html#rest_code_0e3278881473494b878652bef1fe8ef1-1"&gt;&lt;/a&gt;&lt;span class="n"&gt;FLUSH&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;PRIVILEGES&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;or you can even do it from shell by&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre class="code bash"&gt;&lt;a id="rest_code_8f83223b371642cb8e81d7cba9dfbecf-1" name="rest_code_8f83223b371642cb8e81d7cba9dfbecf-1" href="https://stencel.io/posts/mysql.html#rest_code_8f83223b371642cb8e81d7cba9dfbecf-1"&gt;&lt;/a&gt;$&lt;span class="w"&gt; &lt;/span&gt;mysqladmin&lt;span class="w"&gt; &lt;/span&gt;flush-privileges
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;or&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre class="code bash"&gt;&lt;a id="rest_code_f032afdaa7e8498caafdc0b35dec6ca4-1" name="rest_code_f032afdaa7e8498caafdc0b35dec6ca4-1" href="https://stencel.io/posts/mysql.html#rest_code_f032afdaa7e8498caafdc0b35dec6ca4-1"&gt;&lt;/a&gt;$&lt;span class="w"&gt; &lt;/span&gt;mysqladmin&lt;span class="w"&gt; &lt;/span&gt;reload
&lt;/pre&gt;&lt;/div&gt;
&lt;/section&gt;</description><guid>https://stencel.io/posts/mysql.html</guid><pubDate>Thu, 08 May 2014 12:49:38 GMT</pubDate></item><item><title>postgres</title><link>https://stencel.io/posts/postgres.html</link><dc:creator>Greg Stencel</dc:creator><description>&lt;section id="quick-tip"&gt;
&lt;h2&gt;Quick tip:&lt;/h2&gt;
&lt;p&gt;I started with MySQL db (not speaking of Delphi ADO or something like this )
Now because of my job I had to switch to Postgres and I thought
"ok but it's SQL so it will be the same" - not really I had a lot of
problems like in the beginning like user privileges owners of databases and tables, showing tables , showing databases
So if youre switchng from mysql it can help you for beginning:&lt;/p&gt;
&lt;p&gt;So first problem was my user access - I couldnt access postgres even through root :)
so after clean installation if you want to launch psql client for postgres just su as postgres after that you can create
your own super user or user having privileges to specific database&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre class="code bash"&gt;&lt;a id="rest_code_06181ecf59034fb3a6d78ac0e3950c74-1" name="rest_code_06181ecf59034fb3a6d78ac0e3950c74-1" href="https://stencel.io/posts/postgres.html#rest_code_06181ecf59034fb3a6d78ac0e3950c74-1"&gt;&lt;/a&gt;$&lt;span class="w"&gt; &lt;/span&gt;su&lt;span class="w"&gt; &lt;/span&gt;postgres
&lt;a id="rest_code_06181ecf59034fb3a6d78ac0e3950c74-2" name="rest_code_06181ecf59034fb3a6d78ac0e3950c74-2" href="https://stencel.io/posts/postgres.html#rest_code_06181ecf59034fb3a6d78ac0e3950c74-2"&gt;&lt;/a&gt;$&lt;span class="w"&gt; &lt;/span&gt;psql
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;and then you should be able to do everything&lt;/p&gt;
&lt;p&gt;To see databases "&lt;strong&gt;show databases;&lt;/strong&gt;" didn't work anymore :) in postgres&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre class="code psql"&gt;&lt;a id="rest_code_9131c5a4bba6487fb34e2f7aa631eec9-1" name="rest_code_9131c5a4bba6487fb34e2f7aa631eec9-1" href="https://stencel.io/posts/postgres.html#rest_code_9131c5a4bba6487fb34e2f7aa631eec9-1"&gt;&lt;/a&gt;&lt;span class="kp"&gt;\list&lt;/span&gt;
&lt;a id="rest_code_9131c5a4bba6487fb34e2f7aa631eec9-2" name="rest_code_9131c5a4bba6487fb34e2f7aa631eec9-2" href="https://stencel.io/posts/postgres.html#rest_code_9131c5a4bba6487fb34e2f7aa631eec9-2"&gt;&lt;/a&gt;&lt;span class="go"&gt;\l&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;connect to database:&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre class="code psql"&gt;&lt;a id="rest_code_f6d279633db347caa47a6ca942a6d35d-1" name="rest_code_f6d279633db347caa47a6ca942a6d35d-1" href="https://stencel.io/posts/postgres.html#rest_code_f6d279633db347caa47a6ca942a6d35d-1"&gt;&lt;/a&gt;&lt;span class="kp"&gt;\c&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="ss"&gt;db_name&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;show tables;&lt;/strong&gt; in database:&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre class="code psql"&gt;&lt;a id="rest_code_4959077c387643e3b2d7caa0a912a6a2-1" name="rest_code_4959077c387643e3b2d7caa0a912a6a2-1" href="https://stencel.io/posts/postgres.html#rest_code_4959077c387643e3b2d7caa0a912a6a2-1"&gt;&lt;/a&gt;&lt;span class="kp"&gt;\dt&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Explain&lt;/strong&gt; or &lt;strong&gt;describe&lt;/strong&gt; table:&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre class="code psql"&gt;&lt;a id="rest_code_30138ef13df741e6b02e2948240a7509-1" name="rest_code_30138ef13df741e6b02e2948240a7509-1" href="https://stencel.io/posts/postgres.html#rest_code_30138ef13df741e6b02e2948240a7509-1"&gt;&lt;/a&gt;&lt;span class="kp"&gt;\d+&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="ss"&gt;table_name&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Show all shortcuts:&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre class="code psql"&gt;&lt;a id="rest_code_cc70904214614ad7a42e390c192459e4-1" name="rest_code_cc70904214614ad7a42e390c192459e4-1" href="https://stencel.io/posts/postgres.html#rest_code_cc70904214614ad7a42e390c192459e4-1"&gt;&lt;/a&gt;&lt;span class="kp"&gt;\?&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;section id="backup"&gt;
&lt;h3&gt;Backup&lt;/h3&gt;
&lt;p&gt;To dump database to sql script with inserts etc use pg_dump remember (it wont dump user privileges):&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre class="code psql"&gt;&lt;a id="rest_code_baedaf39aa074f978db0ef83257ab043-1" name="rest_code_baedaf39aa074f978db0ef83257ab043-1" href="https://stencel.io/posts/postgres.html#rest_code_baedaf39aa074f978db0ef83257ab043-1"&gt;&lt;/a&gt;&lt;span class="n"&gt;pg_dump&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;my_database&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;my_database&lt;/span&gt;&lt;span class="mf"&gt;.&lt;/span&gt;&lt;span class="n"&gt;pgdump&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The better way of dumping database is pg_dumpall it dumps database users and groups, tablespaces, access permissions that apply to databases as a whole.&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre class="code psql"&gt;&lt;a id="rest_code_e689d8719c734e3ea5a70616222642e3-1" name="rest_code_e689d8719c734e3ea5a70616222642e3-1" href="https://stencel.io/posts/postgres.html#rest_code_e689d8719c734e3ea5a70616222642e3-1"&gt;&lt;/a&gt;&lt;span class="n"&gt;pg_dumpall&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;my_dump&lt;/span&gt;&lt;span class="mf"&gt;.&lt;/span&gt;&lt;span class="n"&gt;pgdump&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If you want to move your users of postgres to different server you can:&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre class="code psql"&gt;&lt;a id="rest_code_8b66c8ffbebd4c6b81014c39fb94d68a-1" name="rest_code_8b66c8ffbebd4c6b81014c39fb94d68a-1" href="https://stencel.io/posts/postgres.html#rest_code_8b66c8ffbebd4c6b81014c39fb94d68a-1"&gt;&lt;/a&gt;&lt;span class="n"&gt;pg_dumpall&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;--roles-only &amp;gt; my_users.pgdump&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/section&gt;
&lt;section id="restore"&gt;
&lt;h3&gt;Restore&lt;/h3&gt;
&lt;p&gt;TO simply restore backup pgdump sql file :&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre class="code psql"&gt;&lt;a id="rest_code_4a7d576733d94beea61a5cbd8d305cf2-1" name="rest_code_4a7d576733d94beea61a5cbd8d305cf2-1" href="https://stencel.io/posts/postgres.html#rest_code_4a7d576733d94beea61a5cbd8d305cf2-1"&gt;&lt;/a&gt;&lt;span class="n"&gt;psql&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;my_database&lt;/span&gt;&lt;span class="mf"&gt;.&lt;/span&gt;&lt;span class="n"&gt;pgdump&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/section&gt;
&lt;section id="access-privileges"&gt;
&lt;h3&gt;Access Privileges:&lt;/h3&gt;
&lt;p&gt;Another way is about accessing postgresql if you worked with mysql you could just provide : grant all privileges on db to &lt;a class="reference external" href="mailto:user_name@localhost"&gt;user_name@localhost&lt;/a&gt; or &lt;a class="reference external" href="mailto:user_name@'10.0.0.1"&gt;user_name@'10.0.0.1&lt;/a&gt;' here it's not the same. Privileges can be configured in low level pg_hba.conf file where you provide who(sys user) who(db_user) where_from . Adding user in postgres:&lt;/p&gt;
&lt;p&gt;Create user:&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre class="code psql"&gt;&lt;a id="rest_code_bf384e218e7443e6a86494a366a2db59-1" name="rest_code_bf384e218e7443e6a86494a366a2db59-1" href="https://stencel.io/posts/postgres.html#rest_code_bf384e218e7443e6a86494a366a2db59-1"&gt;&lt;/a&gt;&lt;span class="k"&gt;create&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;user&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;my_name&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;with&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;password&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;'secret'&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;change owner of db:&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre class="code psql"&gt;&lt;a id="rest_code_564e853bc60d42aa85098890bd0f1868-1" name="rest_code_564e853bc60d42aa85098890bd0f1868-1" href="https://stencel.io/posts/postgres.html#rest_code_564e853bc60d42aa85098890bd0f1868-1"&gt;&lt;/a&gt;&lt;span class="k"&gt;alter&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;database&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;mydatabase&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="k"&gt;owner&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;to&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;new_owner_name&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;change owner of tables:&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre class="code psql"&gt;&lt;a id="rest_code_a03cf5a2e5b54dac9e15019fff9f3574-1" name="rest_code_a03cf5a2e5b54dac9e15019fff9f3574-1" href="https://stencel.io/posts/postgres.html#rest_code_a03cf5a2e5b54dac9e15019fff9f3574-1"&gt;&lt;/a&gt;&lt;span class="k"&gt;REASSIGN&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;OWNED&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;BY&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;old_role&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;TO&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;new_role&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;rename db&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre class="code psql"&gt;&lt;a id="rest_code_4106912b4ac84bb9910d86e0e38f223d-1" name="rest_code_4106912b4ac84bb9910d86e0e38f223d-1" href="https://stencel.io/posts/postgres.html#rest_code_4106912b4ac84bb9910d86e0e38f223d-1"&gt;&lt;/a&gt;&lt;span class="k"&gt;alter&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="k"&gt;database&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;production&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;rename&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;to&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;production_delete&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/section&gt;
&lt;/section&gt;</description><guid>https://stencel.io/posts/postgres.html</guid><pubDate>Thu, 08 May 2014 10:20:29 GMT</pubDate></item></channel></rss>