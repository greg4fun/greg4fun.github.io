<!DOCTYPE html>
<html prefix="        og: http://ogp.me/ns# article: http://ogp.me/ns/article#     " vocab="http://ogp.me/ns" lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<title>Mysql on kubernetes with persistent volume and secrets | Greg's Tech Notes</title>
<link href="https://fonts.googleapis.com/css?family=Bitter:400,400i,700" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
<link href="../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" hreflang="en" href="../rss.xml">
<link rel="canonical" href="https://stencel.io/posts/mysql-on-kubernetes-with-persistent-volume-and-secrets.html">
<!--[if lt IE 9]><script src="../assets/js/html5shiv-printshiv.min.js"></script><![endif]--><meta name="author" content="Greg Stencel">
<link rel="prev" href="kuberenetes-nfs-persistent-volume.html" title="Kuberenetes NFS persistent volume" type="text/html">
<link rel="next" href="build-cheapest-kubernetes-i7-cluster.html" title="Build cheapest kubernetes i7 cluster" type="text/html">
<meta property="og:site_name" content="Greg's Tech Notes">
<meta property="og:title" content="Mysql on kubernetes with persistent volume and secrets">
<meta property="og:url" content="https://stencel.io/posts/mysql-on-kubernetes-with-persistent-volume-and-secrets.html">
<meta property="og:description" content='Volumes

Persistent storage with NFS
In this example I have created nfs share "PersistentVolume" on my qnap NAS which IP is 192.168.1.11
Create persistentVolume.yml
apiVersion: v1
kind: PersistentVolu'>
<meta property="og:type" content="article">
<meta property="article:published_time" content="2020-06-28T08:50:51Z">
</head>
<body>
    <a href="#page-content" class="sr-only sr-only-focusable">Skip to main content</a>
    
    <section class="social"><ul>
<li><p style="color:#fff;font-size:3em;">stencel.io</p></li>
        <li><p style="color:#fff;font-size:2em;">greg's tech notes</p></li>
            <li>
                <a href="https://stencel.io/">
                    <img src="../images/aboutme.png" alt="Greg's Tech Notes" id="logo"></a>
            </li>
        
            <li><a href="../index.html" title="Home"><i class="fa fa-home"></i></a></li>
            <li><a href="../archive.html" title="Archives"><i class="fa fa-folder-open"></i></a></li>
            <li><a href="../categories/index.html" title="Tags"><i class="fa fa-tags"></i></a></li>
            <li><a href="https://www.linkedin.com/in/gregstencel/" title="My Linkedin"><i class="fab fa-linkedin"></i></a></li>
            <li><a href="https://github.com/greg4fun" title="My Github"><i class="fab fa-github"></i></a></li>
    
    

        </ul></section><section class="page-content"><div class="content" rel="main">
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="#" class="u-url">Mysql on kubernetes with persistent volume and secrets</a></h1>

        <div class="metadata">
            <p class="dateline"><a href="#" rel="bookmark"><i class="fa fa-clock"></i> <time class="published dt-published" datetime="2020-06-28T08:50:51Z" itemprop="datePublished" title="2020-06-28 08:50">2020-06-28 08:50</time></a></p>
            <p class="byline author vcard"> <i class="fa fa-user"></i> <span class="byline-name fn" itemprop="author">
                    Greg Stencel
            </span></p>
                <p class="commentline"><i class="far fa-comment"></i>
    
    <a href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#disqus_thread" data-disqus-identifier="cache/posts/mysql-on-kubernetes-with-persistent-volume-and-secrets.html">Comments</a>


            
        </p>
<p class="sourceline"><a href="mysql-on-kubernetes-with-persistent-volume-and-secrets.rst" class="sourcelink"><i class="fa fa-file-code"></i> Source</a></p>

            

            

        </div>
    </header><div class="e-content entry-content" itemprop="articleBody text">
    <section id="volumes"><h2>Volumes</h2>
<section id="persistent-storage-with-nfs"><h3>Persistent storage with NFS</h3>
<p>In this example I have created nfs share "PersistentVolume" on my qnap NAS which IP is 192.168.1.11
Create persistentVolume.yml</p>
<div class="code"><pre class="code yaml"><a id="rest_code_626c9d016f8d4e3ab448d17a34fac837-1" name="rest_code_626c9d016f8d4e3ab448d17a34fac837-1" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_626c9d016f8d4e3ab448d17a34fac837-1"></a><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">v1</span>
<a id="rest_code_626c9d016f8d4e3ab448d17a34fac837-2" name="rest_code_626c9d016f8d4e3ab448d17a34fac837-2" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_626c9d016f8d4e3ab448d17a34fac837-2"></a><span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PersistentVolume</span>
<a id="rest_code_626c9d016f8d4e3ab448d17a34fac837-3" name="rest_code_626c9d016f8d4e3ab448d17a34fac837-3" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_626c9d016f8d4e3ab448d17a34fac837-3"></a><span class="nt">metadata</span><span class="p">:</span>
<a id="rest_code_626c9d016f8d4e3ab448d17a34fac837-4" name="rest_code_626c9d016f8d4e3ab448d17a34fac837-4" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_626c9d016f8d4e3ab448d17a34fac837-4"></a><span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">pv0001</span>
<a id="rest_code_626c9d016f8d4e3ab448d17a34fac837-5" name="rest_code_626c9d016f8d4e3ab448d17a34fac837-5" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_626c9d016f8d4e3ab448d17a34fac837-5"></a><span class="nt">spec</span><span class="p">:</span>
<a id="rest_code_626c9d016f8d4e3ab448d17a34fac837-6" name="rest_code_626c9d016f8d4e3ab448d17a34fac837-6" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_626c9d016f8d4e3ab448d17a34fac837-6"></a><span class="w">  </span><span class="nt">capacity</span><span class="p">:</span>
<a id="rest_code_626c9d016f8d4e3ab448d17a34fac837-7" name="rest_code_626c9d016f8d4e3ab448d17a34fac837-7" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_626c9d016f8d4e3ab448d17a34fac837-7"></a><span class="w">    </span><span class="nt">storage</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">100Gi</span>
<a id="rest_code_626c9d016f8d4e3ab448d17a34fac837-8" name="rest_code_626c9d016f8d4e3ab448d17a34fac837-8" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_626c9d016f8d4e3ab448d17a34fac837-8"></a><span class="w">  </span><span class="nt">accessModes</span><span class="p">:</span>
<a id="rest_code_626c9d016f8d4e3ab448d17a34fac837-9" name="rest_code_626c9d016f8d4e3ab448d17a34fac837-9" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_626c9d016f8d4e3ab448d17a34fac837-9"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ReadWriteMany</span>
<a id="rest_code_626c9d016f8d4e3ab448d17a34fac837-10" name="rest_code_626c9d016f8d4e3ab448d17a34fac837-10" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_626c9d016f8d4e3ab448d17a34fac837-10"></a><span class="w">  </span><span class="nt">mountOptions</span><span class="p">:</span>
<a id="rest_code_626c9d016f8d4e3ab448d17a34fac837-11" name="rest_code_626c9d016f8d4e3ab448d17a34fac837-11" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_626c9d016f8d4e3ab448d17a34fac837-11"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nfsvers=4.1</span>
<a id="rest_code_626c9d016f8d4e3ab448d17a34fac837-12" name="rest_code_626c9d016f8d4e3ab448d17a34fac837-12" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_626c9d016f8d4e3ab448d17a34fac837-12"></a><span class="w">  </span><span class="nt">nfs</span><span class="p">:</span>
<a id="rest_code_626c9d016f8d4e3ab448d17a34fac837-13" name="rest_code_626c9d016f8d4e3ab448d17a34fac837-13" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_626c9d016f8d4e3ab448d17a34fac837-13"></a><span class="w">    </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/PersistentVolume/pv0001</span>
<a id="rest_code_626c9d016f8d4e3ab448d17a34fac837-14" name="rest_code_626c9d016f8d4e3ab448d17a34fac837-14" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_626c9d016f8d4e3ab448d17a34fac837-14"></a><span class="w">    </span><span class="nt">server</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">192.168.1.11</span>
<a id="rest_code_626c9d016f8d4e3ab448d17a34fac837-15" name="rest_code_626c9d016f8d4e3ab448d17a34fac837-15" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_626c9d016f8d4e3ab448d17a34fac837-15"></a><span class="w">  </span><span class="nt">persistentVolumeReclaimPolicy</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Retain</span>
</pre></div>
<p>Create persistentVolumeClaim.yml</p>
<div class="code"><pre class="code yaml"><a id="rest_code_c2c30ea0e05a4cb499bca029daa700f7-1" name="rest_code_c2c30ea0e05a4cb499bca029daa700f7-1" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_c2c30ea0e05a4cb499bca029daa700f7-1"></a><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">v1</span>
<a id="rest_code_c2c30ea0e05a4cb499bca029daa700f7-2" name="rest_code_c2c30ea0e05a4cb499bca029daa700f7-2" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_c2c30ea0e05a4cb499bca029daa700f7-2"></a><span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PersistentVolumeClaim</span>
<a id="rest_code_c2c30ea0e05a4cb499bca029daa700f7-3" name="rest_code_c2c30ea0e05a4cb499bca029daa700f7-3" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_c2c30ea0e05a4cb499bca029daa700f7-3"></a><span class="nt">metadata</span><span class="p">:</span>
<a id="rest_code_c2c30ea0e05a4cb499bca029daa700f7-4" name="rest_code_c2c30ea0e05a4cb499bca029daa700f7-4" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_c2c30ea0e05a4cb499bca029daa700f7-4"></a><span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mysql-pv-claim</span>
<a id="rest_code_c2c30ea0e05a4cb499bca029daa700f7-5" name="rest_code_c2c30ea0e05a4cb499bca029daa700f7-5" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_c2c30ea0e05a4cb499bca029daa700f7-5"></a><span class="nt">spec</span><span class="p">:</span>
<a id="rest_code_c2c30ea0e05a4cb499bca029daa700f7-6" name="rest_code_c2c30ea0e05a4cb499bca029daa700f7-6" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_c2c30ea0e05a4cb499bca029daa700f7-6"></a><span class="w">  </span><span class="nt">accessModes</span><span class="p">:</span>
<a id="rest_code_c2c30ea0e05a4cb499bca029daa700f7-7" name="rest_code_c2c30ea0e05a4cb499bca029daa700f7-7" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_c2c30ea0e05a4cb499bca029daa700f7-7"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ReadWriteMany</span>
<a id="rest_code_c2c30ea0e05a4cb499bca029daa700f7-8" name="rest_code_c2c30ea0e05a4cb499bca029daa700f7-8" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_c2c30ea0e05a4cb499bca029daa700f7-8"></a><span class="w">  </span><span class="nt">resources</span><span class="p">:</span>
<a id="rest_code_c2c30ea0e05a4cb499bca029daa700f7-9" name="rest_code_c2c30ea0e05a4cb499bca029daa700f7-9" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_c2c30ea0e05a4cb499bca029daa700f7-9"></a><span class="w">    </span><span class="nt">requests</span><span class="p">:</span>
<a id="rest_code_c2c30ea0e05a4cb499bca029daa700f7-10" name="rest_code_c2c30ea0e05a4cb499bca029daa700f7-10" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_c2c30ea0e05a4cb499bca029daa700f7-10"></a><span class="w">      </span><span class="nt">storage</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10Gi</span>
</pre></div>
</section><section id="secrets"><h3>Secrets</h3>
<p>The configuration of your containers should be stored in separate place to guarantee mobility (it shouldnt be hardcoded ) neither should it be stored in database
The best approach is to store your configuration in environment variables for docker for instance you can store it in env files which are gitignored or env vars which you need to set during container startup.
In kubernetes you have option to store all configuration like usernames, passwords, API urls etc in configmaps and secrets.
Passwords shouldnt be stored in configmaps though as it is stored there in plain text.So the best choice for passwords is secrets which stores data in base64.</p>
<p>Create password and user and db name and encode it with base64</p>
<div class="code"><pre class="code bash"><a id="rest_code_48f1b4e3c4b646d8827b1a211f4e0083-1" name="rest_code_48f1b4e3c4b646d8827b1a211f4e0083-1" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_48f1b4e3c4b646d8827b1a211f4e0083-1"></a><span class="nb">echo</span><span class="w"> </span>-n<span class="w"> </span><span class="s2">"MyPassword"</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>base64<span class="w"> </span><span class="c1">#TXlQYXNzd29yZA==</span>
<a id="rest_code_48f1b4e3c4b646d8827b1a211f4e0083-2" name="rest_code_48f1b4e3c4b646d8827b1a211f4e0083-2" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_48f1b4e3c4b646d8827b1a211f4e0083-2"></a><span class="nb">echo</span><span class="w"> </span>-n<span class="w"> </span><span class="s2">"django"</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>base64<span class="w">  </span><span class="c1"># ZGphbmdv</span>
<a id="rest_code_48f1b4e3c4b646d8827b1a211f4e0083-3" name="rest_code_48f1b4e3c4b646d8827b1a211f4e0083-3" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_48f1b4e3c4b646d8827b1a211f4e0083-3"></a><span class="nb">echo</span><span class="w"> </span>-n<span class="w"> </span><span class="s2">"kubernetes_test"</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>base64<span class="w"> </span><span class="c1"># a3ViZXJuZXRlc190ZXN0</span>
</pre></div>
<p>Apply above results to secret.yml</p>
<div class="code"><pre class="code yaml"><a id="rest_code_4368653ddbae40758e2075274760ddaa-1" name="rest_code_4368653ddbae40758e2075274760ddaa-1" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_4368653ddbae40758e2075274760ddaa-1"></a><span class="nn">---</span>
<a id="rest_code_4368653ddbae40758e2075274760ddaa-2" name="rest_code_4368653ddbae40758e2075274760ddaa-2" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_4368653ddbae40758e2075274760ddaa-2"></a><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">v1</span>
<a id="rest_code_4368653ddbae40758e2075274760ddaa-3" name="rest_code_4368653ddbae40758e2075274760ddaa-3" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_4368653ddbae40758e2075274760ddaa-3"></a><span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Secret</span>
<a id="rest_code_4368653ddbae40758e2075274760ddaa-4" name="rest_code_4368653ddbae40758e2075274760ddaa-4" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_4368653ddbae40758e2075274760ddaa-4"></a><span class="nt">metadata</span><span class="p">:</span>
<a id="rest_code_4368653ddbae40758e2075274760ddaa-5" name="rest_code_4368653ddbae40758e2075274760ddaa-5" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_4368653ddbae40758e2075274760ddaa-5"></a><span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mysql-secrets</span>
<a id="rest_code_4368653ddbae40758e2075274760ddaa-6" name="rest_code_4368653ddbae40758e2075274760ddaa-6" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_4368653ddbae40758e2075274760ddaa-6"></a><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Opaque</span>
<a id="rest_code_4368653ddbae40758e2075274760ddaa-7" name="rest_code_4368653ddbae40758e2075274760ddaa-7" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_4368653ddbae40758e2075274760ddaa-7"></a><span class="nt">data</span><span class="p">:</span>
<a id="rest_code_4368653ddbae40758e2075274760ddaa-8" name="rest_code_4368653ddbae40758e2075274760ddaa-8" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_4368653ddbae40758e2075274760ddaa-8"></a><span class="w">  </span><span class="nt">MYSQL_ROOT_PASSWORD</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">TXlQYXNzd29yZA==</span>
<a id="rest_code_4368653ddbae40758e2075274760ddaa-9" name="rest_code_4368653ddbae40758e2075274760ddaa-9" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_4368653ddbae40758e2075274760ddaa-9"></a><span class="w">  </span><span class="nt">MYSQL_USER</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ZGphbmdv</span>
<a id="rest_code_4368653ddbae40758e2075274760ddaa-10" name="rest_code_4368653ddbae40758e2075274760ddaa-10" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_4368653ddbae40758e2075274760ddaa-10"></a><span class="w">  </span><span class="nt">MYSQL_PASSWORD</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ZGphbmdv</span>
<a id="rest_code_4368653ddbae40758e2075274760ddaa-11" name="rest_code_4368653ddbae40758e2075274760ddaa-11" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_4368653ddbae40758e2075274760ddaa-11"></a><span class="w">  </span><span class="nt">MYSQL_DATABASE</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">a3ViZXJuZXRlc190ZXN0</span>
</pre></div>
<p>On your cluster create secrets.yml</p>
<div class="code"><pre class="code bash"><a id="rest_code_aac4075c091443b382bb81f49654629c-1" name="rest_code_aac4075c091443b382bb81f49654629c-1" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_aac4075c091443b382bb81f49654629c-1"></a>kubectl<span class="w"> </span>create<span class="w"> </span>-f<span class="w"> </span>secrets.yml
</pre></div>
</section><section id="mysql-application"><h3>Mysql application</h3>
<p>Now having persistent volumeclain and secrets we can write mysql deployment file</p>
<p>deployment.yml</p>
<div class="code"><pre class="code yaml"><a id="rest_code_ca5842a3d6b44230b9192ccac207378e-1" name="rest_code_ca5842a3d6b44230b9192ccac207378e-1" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_ca5842a3d6b44230b9192ccac207378e-1"></a><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">apps/v1</span>
<a id="rest_code_ca5842a3d6b44230b9192ccac207378e-2" name="rest_code_ca5842a3d6b44230b9192ccac207378e-2" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_ca5842a3d6b44230b9192ccac207378e-2"></a><span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Deployment</span>
<a id="rest_code_ca5842a3d6b44230b9192ccac207378e-3" name="rest_code_ca5842a3d6b44230b9192ccac207378e-3" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_ca5842a3d6b44230b9192ccac207378e-3"></a><span class="nt">metadata</span><span class="p">:</span>
<a id="rest_code_ca5842a3d6b44230b9192ccac207378e-4" name="rest_code_ca5842a3d6b44230b9192ccac207378e-4" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_ca5842a3d6b44230b9192ccac207378e-4"></a><span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mysql-deployment</span>
<a id="rest_code_ca5842a3d6b44230b9192ccac207378e-5" name="rest_code_ca5842a3d6b44230b9192ccac207378e-5" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_ca5842a3d6b44230b9192ccac207378e-5"></a><span class="w">  </span><span class="nt">labels</span><span class="p">:</span>
<a id="rest_code_ca5842a3d6b44230b9192ccac207378e-6" name="rest_code_ca5842a3d6b44230b9192ccac207378e-6" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_ca5842a3d6b44230b9192ccac207378e-6"></a><span class="w">    </span><span class="nt">app</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mysql</span>
<a id="rest_code_ca5842a3d6b44230b9192ccac207378e-7" name="rest_code_ca5842a3d6b44230b9192ccac207378e-7" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_ca5842a3d6b44230b9192ccac207378e-7"></a><span class="nt">spec</span><span class="p">:</span>
<a id="rest_code_ca5842a3d6b44230b9192ccac207378e-8" name="rest_code_ca5842a3d6b44230b9192ccac207378e-8" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_ca5842a3d6b44230b9192ccac207378e-8"></a><span class="w">  </span><span class="nt">replicas</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<a id="rest_code_ca5842a3d6b44230b9192ccac207378e-9" name="rest_code_ca5842a3d6b44230b9192ccac207378e-9" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_ca5842a3d6b44230b9192ccac207378e-9"></a><span class="w">  </span><span class="nt">selector</span><span class="p">:</span>
<a id="rest_code_ca5842a3d6b44230b9192ccac207378e-10" name="rest_code_ca5842a3d6b44230b9192ccac207378e-10" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_ca5842a3d6b44230b9192ccac207378e-10"></a><span class="w">    </span><span class="nt">matchLabels</span><span class="p">:</span>
<a id="rest_code_ca5842a3d6b44230b9192ccac207378e-11" name="rest_code_ca5842a3d6b44230b9192ccac207378e-11" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_ca5842a3d6b44230b9192ccac207378e-11"></a><span class="w">      </span><span class="nt">app</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mysql</span>
<a id="rest_code_ca5842a3d6b44230b9192ccac207378e-12" name="rest_code_ca5842a3d6b44230b9192ccac207378e-12" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_ca5842a3d6b44230b9192ccac207378e-12"></a><span class="w">  </span><span class="nt">template</span><span class="p">:</span>
<a id="rest_code_ca5842a3d6b44230b9192ccac207378e-13" name="rest_code_ca5842a3d6b44230b9192ccac207378e-13" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_ca5842a3d6b44230b9192ccac207378e-13"></a><span class="w">    </span><span class="nt">metadata</span><span class="p">:</span>
<a id="rest_code_ca5842a3d6b44230b9192ccac207378e-14" name="rest_code_ca5842a3d6b44230b9192ccac207378e-14" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_ca5842a3d6b44230b9192ccac207378e-14"></a><span class="w">      </span><span class="nt">labels</span><span class="p">:</span>
<a id="rest_code_ca5842a3d6b44230b9192ccac207378e-15" name="rest_code_ca5842a3d6b44230b9192ccac207378e-15" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_ca5842a3d6b44230b9192ccac207378e-15"></a><span class="w">        </span><span class="nt">app</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mysql</span>
<a id="rest_code_ca5842a3d6b44230b9192ccac207378e-16" name="rest_code_ca5842a3d6b44230b9192ccac207378e-16" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_ca5842a3d6b44230b9192ccac207378e-16"></a><span class="w">    </span><span class="nt">spec</span><span class="p">:</span>
<a id="rest_code_ca5842a3d6b44230b9192ccac207378e-17" name="rest_code_ca5842a3d6b44230b9192ccac207378e-17" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_ca5842a3d6b44230b9192ccac207378e-17"></a><span class="w">      </span><span class="nt">containers</span><span class="p">:</span>
<a id="rest_code_ca5842a3d6b44230b9192ccac207378e-18" name="rest_code_ca5842a3d6b44230b9192ccac207378e-18" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_ca5842a3d6b44230b9192ccac207378e-18"></a><span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mysql</span>
<a id="rest_code_ca5842a3d6b44230b9192ccac207378e-19" name="rest_code_ca5842a3d6b44230b9192ccac207378e-19" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_ca5842a3d6b44230b9192ccac207378e-19"></a><span class="w">          </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mysql:5.7</span>
<a id="rest_code_ca5842a3d6b44230b9192ccac207378e-20" name="rest_code_ca5842a3d6b44230b9192ccac207378e-20" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_ca5842a3d6b44230b9192ccac207378e-20"></a><span class="w">          </span><span class="nt">ports</span><span class="p">:</span>
<a id="rest_code_ca5842a3d6b44230b9192ccac207378e-21" name="rest_code_ca5842a3d6b44230b9192ccac207378e-21" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_ca5842a3d6b44230b9192ccac207378e-21"></a><span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">containerPort</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3306</span>
<a id="rest_code_ca5842a3d6b44230b9192ccac207378e-22" name="rest_code_ca5842a3d6b44230b9192ccac207378e-22" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_ca5842a3d6b44230b9192ccac207378e-22"></a><span class="w">          </span><span class="nt">volumeMounts</span><span class="p">:</span>
<a id="rest_code_ca5842a3d6b44230b9192ccac207378e-23" name="rest_code_ca5842a3d6b44230b9192ccac207378e-23" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_ca5842a3d6b44230b9192ccac207378e-23"></a><span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">mountPath</span><span class="p">:</span><span class="w"> </span><span class="s">"/var/lib/mysql"</span>
<a id="rest_code_ca5842a3d6b44230b9192ccac207378e-24" name="rest_code_ca5842a3d6b44230b9192ccac207378e-24" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_ca5842a3d6b44230b9192ccac207378e-24"></a><span class="w">              </span><span class="nt">subPath</span><span class="p">:</span><span class="w"> </span><span class="s">"mysql"</span>
<a id="rest_code_ca5842a3d6b44230b9192ccac207378e-25" name="rest_code_ca5842a3d6b44230b9192ccac207378e-25" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_ca5842a3d6b44230b9192ccac207378e-25"></a><span class="w">              </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mysql-data</span>
<a id="rest_code_ca5842a3d6b44230b9192ccac207378e-26" name="rest_code_ca5842a3d6b44230b9192ccac207378e-26" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_ca5842a3d6b44230b9192ccac207378e-26"></a><span class="w">          </span><span class="nt">env</span><span class="p">:</span>
<a id="rest_code_ca5842a3d6b44230b9192ccac207378e-27" name="rest_code_ca5842a3d6b44230b9192ccac207378e-27" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_ca5842a3d6b44230b9192ccac207378e-27"></a><span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">MYSQL_ROOT_PASSWORD</span>
<a id="rest_code_ca5842a3d6b44230b9192ccac207378e-28" name="rest_code_ca5842a3d6b44230b9192ccac207378e-28" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_ca5842a3d6b44230b9192ccac207378e-28"></a><span class="w">              </span><span class="nt">valueFrom</span><span class="p">:</span>
<a id="rest_code_ca5842a3d6b44230b9192ccac207378e-29" name="rest_code_ca5842a3d6b44230b9192ccac207378e-29" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_ca5842a3d6b44230b9192ccac207378e-29"></a><span class="w">                </span><span class="nt">secretKeyRef</span><span class="p">:</span>
<a id="rest_code_ca5842a3d6b44230b9192ccac207378e-30" name="rest_code_ca5842a3d6b44230b9192ccac207378e-30" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_ca5842a3d6b44230b9192ccac207378e-30"></a><span class="w">                  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mysql-secrets</span>
<a id="rest_code_ca5842a3d6b44230b9192ccac207378e-31" name="rest_code_ca5842a3d6b44230b9192ccac207378e-31" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_ca5842a3d6b44230b9192ccac207378e-31"></a><span class="w">                  </span><span class="nt">key</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">MYSQL_ROOT_PASSWORD</span>
<a id="rest_code_ca5842a3d6b44230b9192ccac207378e-32" name="rest_code_ca5842a3d6b44230b9192ccac207378e-32" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_ca5842a3d6b44230b9192ccac207378e-32"></a><span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">MYSQL_USER</span>
<a id="rest_code_ca5842a3d6b44230b9192ccac207378e-33" name="rest_code_ca5842a3d6b44230b9192ccac207378e-33" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_ca5842a3d6b44230b9192ccac207378e-33"></a><span class="w">              </span><span class="nt">valueFrom</span><span class="p">:</span>
<a id="rest_code_ca5842a3d6b44230b9192ccac207378e-34" name="rest_code_ca5842a3d6b44230b9192ccac207378e-34" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_ca5842a3d6b44230b9192ccac207378e-34"></a><span class="w">                </span><span class="nt">secretKeyRef</span><span class="p">:</span>
<a id="rest_code_ca5842a3d6b44230b9192ccac207378e-35" name="rest_code_ca5842a3d6b44230b9192ccac207378e-35" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_ca5842a3d6b44230b9192ccac207378e-35"></a><span class="w">                  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mysql-secrets</span>
<a id="rest_code_ca5842a3d6b44230b9192ccac207378e-36" name="rest_code_ca5842a3d6b44230b9192ccac207378e-36" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_ca5842a3d6b44230b9192ccac207378e-36"></a><span class="w">                  </span><span class="nt">key</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">MYSQL_USER</span>
<a id="rest_code_ca5842a3d6b44230b9192ccac207378e-37" name="rest_code_ca5842a3d6b44230b9192ccac207378e-37" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_ca5842a3d6b44230b9192ccac207378e-37"></a><span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">MYSQL_PASSWORD</span>
<a id="rest_code_ca5842a3d6b44230b9192ccac207378e-38" name="rest_code_ca5842a3d6b44230b9192ccac207378e-38" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_ca5842a3d6b44230b9192ccac207378e-38"></a><span class="w">              </span><span class="nt">valueFrom</span><span class="p">:</span>
<a id="rest_code_ca5842a3d6b44230b9192ccac207378e-39" name="rest_code_ca5842a3d6b44230b9192ccac207378e-39" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_ca5842a3d6b44230b9192ccac207378e-39"></a><span class="w">                </span><span class="nt">secretKeyRef</span><span class="p">:</span>
<a id="rest_code_ca5842a3d6b44230b9192ccac207378e-40" name="rest_code_ca5842a3d6b44230b9192ccac207378e-40" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_ca5842a3d6b44230b9192ccac207378e-40"></a><span class="w">                  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mysql-secrets</span>
<a id="rest_code_ca5842a3d6b44230b9192ccac207378e-41" name="rest_code_ca5842a3d6b44230b9192ccac207378e-41" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_ca5842a3d6b44230b9192ccac207378e-41"></a><span class="w">                  </span><span class="nt">key</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">MYSQL_PASSWORD</span>
<a id="rest_code_ca5842a3d6b44230b9192ccac207378e-42" name="rest_code_ca5842a3d6b44230b9192ccac207378e-42" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_ca5842a3d6b44230b9192ccac207378e-42"></a><span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">MYSQL_DATABASE</span>
<a id="rest_code_ca5842a3d6b44230b9192ccac207378e-43" name="rest_code_ca5842a3d6b44230b9192ccac207378e-43" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_ca5842a3d6b44230b9192ccac207378e-43"></a><span class="w">              </span><span class="nt">valueFrom</span><span class="p">:</span>
<a id="rest_code_ca5842a3d6b44230b9192ccac207378e-44" name="rest_code_ca5842a3d6b44230b9192ccac207378e-44" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_ca5842a3d6b44230b9192ccac207378e-44"></a><span class="w">                </span><span class="nt">secretKeyRef</span><span class="p">:</span>
<a id="rest_code_ca5842a3d6b44230b9192ccac207378e-45" name="rest_code_ca5842a3d6b44230b9192ccac207378e-45" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_ca5842a3d6b44230b9192ccac207378e-45"></a><span class="w">                  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mysql-secrets</span>
<a id="rest_code_ca5842a3d6b44230b9192ccac207378e-46" name="rest_code_ca5842a3d6b44230b9192ccac207378e-46" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_ca5842a3d6b44230b9192ccac207378e-46"></a><span class="w">                  </span><span class="nt">key</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">MYSQL_DATABASE</span>
<a id="rest_code_ca5842a3d6b44230b9192ccac207378e-47" name="rest_code_ca5842a3d6b44230b9192ccac207378e-47" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_ca5842a3d6b44230b9192ccac207378e-47"></a><span class="w">      </span><span class="nt">volumes</span><span class="p">:</span>
<a id="rest_code_ca5842a3d6b44230b9192ccac207378e-48" name="rest_code_ca5842a3d6b44230b9192ccac207378e-48" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_ca5842a3d6b44230b9192ccac207378e-48"></a><span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mysql-data</span>
<a id="rest_code_ca5842a3d6b44230b9192ccac207378e-49" name="rest_code_ca5842a3d6b44230b9192ccac207378e-49" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_ca5842a3d6b44230b9192ccac207378e-49"></a><span class="w">          </span><span class="nt">persistentVolumeClaim</span><span class="p">:</span>
<a id="rest_code_ca5842a3d6b44230b9192ccac207378e-50" name="rest_code_ca5842a3d6b44230b9192ccac207378e-50" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_ca5842a3d6b44230b9192ccac207378e-50"></a><span class="w">            </span><span class="nt">claimName</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mysql-pv-claim</span>
</pre></div>
<div class="code"><pre class="code bash"><a id="rest_code_cadee338cfaa4dfa82c695a8cdcc4112-1" name="rest_code_cadee338cfaa4dfa82c695a8cdcc4112-1" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_cadee338cfaa4dfa82c695a8cdcc4112-1"></a>kubectl<span class="w"> </span>apply<span class="w"> </span>-f<span class="w"> </span>deployment.yml
</pre></div>
</section><section id="checking"><h3>Checking</h3>
<p>Now we can check if our deployment was successful:</p>
<div class="code"><pre class="code bash"><a id="rest_code_b1a35ef65b7d4f198027721cc1863d98-1" name="rest_code_b1a35ef65b7d4f198027721cc1863d98-1" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_b1a35ef65b7d4f198027721cc1863d98-1"></a>kubectl<span class="w"> </span>get<span class="w"> </span>deployments
<a id="rest_code_b1a35ef65b7d4f198027721cc1863d98-2" name="rest_code_b1a35ef65b7d4f198027721cc1863d98-2" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_b1a35ef65b7d4f198027721cc1863d98-2"></a>
<a id="rest_code_b1a35ef65b7d4f198027721cc1863d98-3" name="rest_code_b1a35ef65b7d4f198027721cc1863d98-3" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_b1a35ef65b7d4f198027721cc1863d98-3"></a>NAME<span class="w">               </span>READY<span class="w">   </span>UP-TO-DATE<span class="w">   </span>AVAILABLE<span class="w">   </span>AGE
<a id="rest_code_b1a35ef65b7d4f198027721cc1863d98-4" name="rest_code_b1a35ef65b7d4f198027721cc1863d98-4" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_b1a35ef65b7d4f198027721cc1863d98-4"></a>mysql-deployment<span class="w">   </span><span class="m">1</span>/1<span class="w">     </span><span class="m">1</span><span class="w">            </span><span class="m">1</span><span class="w">           </span>66m
</pre></div>
<p>If somethings wrong you can always investigate with describe or logs</p>
<div class="code"><pre class="code bash"><a id="rest_code_194725f3fb7145e982800d0b5dcd875e-1" name="rest_code_194725f3fb7145e982800d0b5dcd875e-1" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_194725f3fb7145e982800d0b5dcd875e-1"></a>kubectl<span class="w"> </span>describe<span class="w"> </span>deployment<span class="w"> </span>mysql-deployment
<a id="rest_code_194725f3fb7145e982800d0b5dcd875e-2" name="rest_code_194725f3fb7145e982800d0b5dcd875e-2" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_194725f3fb7145e982800d0b5dcd875e-2"></a>
<a id="rest_code_194725f3fb7145e982800d0b5dcd875e-3" name="rest_code_194725f3fb7145e982800d0b5dcd875e-3" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_194725f3fb7145e982800d0b5dcd875e-3"></a>Name:<span class="w">                   </span>mysql-deployment
<a id="rest_code_194725f3fb7145e982800d0b5dcd875e-4" name="rest_code_194725f3fb7145e982800d0b5dcd875e-4" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_194725f3fb7145e982800d0b5dcd875e-4"></a>Namespace:<span class="w">              </span>default
<a id="rest_code_194725f3fb7145e982800d0b5dcd875e-5" name="rest_code_194725f3fb7145e982800d0b5dcd875e-5" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_194725f3fb7145e982800d0b5dcd875e-5"></a>CreationTimestamp:<span class="w">      </span>Sun,<span class="w"> </span><span class="m">28</span><span class="w"> </span>Jun<span class="w"> </span><span class="m">2020</span><span class="w"> </span><span class="m">17</span>:02:00<span class="w"> </span>+0000
<a id="rest_code_194725f3fb7145e982800d0b5dcd875e-6" name="rest_code_194725f3fb7145e982800d0b5dcd875e-6" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_194725f3fb7145e982800d0b5dcd875e-6"></a>Labels:<span class="w">                 </span><span class="nv">app</span><span class="o">=</span>mysql
<a id="rest_code_194725f3fb7145e982800d0b5dcd875e-7" name="rest_code_194725f3fb7145e982800d0b5dcd875e-7" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_194725f3fb7145e982800d0b5dcd875e-7"></a>Annotations:<span class="w">            </span>deployment.kubernetes.io/revision:<span class="w"> </span><span class="m">1</span>
<a id="rest_code_194725f3fb7145e982800d0b5dcd875e-8" name="rest_code_194725f3fb7145e982800d0b5dcd875e-8" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_194725f3fb7145e982800d0b5dcd875e-8"></a>Selector:<span class="w">               </span><span class="nv">app</span><span class="o">=</span>mysql
<a id="rest_code_194725f3fb7145e982800d0b5dcd875e-9" name="rest_code_194725f3fb7145e982800d0b5dcd875e-9" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_194725f3fb7145e982800d0b5dcd875e-9"></a>Replicas:<span class="w">               </span><span class="m">1</span><span class="w"> </span>desired<span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="m">1</span><span class="w"> </span>updated<span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="m">1</span><span class="w"> </span>total<span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="m">1</span><span class="w"> </span>available<span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="m">0</span><span class="w"> </span>unavailable
<a id="rest_code_194725f3fb7145e982800d0b5dcd875e-10" name="rest_code_194725f3fb7145e982800d0b5dcd875e-10" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_194725f3fb7145e982800d0b5dcd875e-10"></a>StrategyType:<span class="w">           </span>RollingUpdate
<a id="rest_code_194725f3fb7145e982800d0b5dcd875e-11" name="rest_code_194725f3fb7145e982800d0b5dcd875e-11" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_194725f3fb7145e982800d0b5dcd875e-11"></a>MinReadySeconds:<span class="w">        </span><span class="m">0</span>
<a id="rest_code_194725f3fb7145e982800d0b5dcd875e-12" name="rest_code_194725f3fb7145e982800d0b5dcd875e-12" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_194725f3fb7145e982800d0b5dcd875e-12"></a>RollingUpdateStrategy:<span class="w">  </span><span class="m">25</span>%<span class="w"> </span>max<span class="w"> </span>unavailable,<span class="w"> </span><span class="m">25</span>%<span class="w"> </span>max<span class="w"> </span>surge
<a id="rest_code_194725f3fb7145e982800d0b5dcd875e-13" name="rest_code_194725f3fb7145e982800d0b5dcd875e-13" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_194725f3fb7145e982800d0b5dcd875e-13"></a>Pod<span class="w"> </span>Template:
<a id="rest_code_194725f3fb7145e982800d0b5dcd875e-14" name="rest_code_194725f3fb7145e982800d0b5dcd875e-14" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_194725f3fb7145e982800d0b5dcd875e-14"></a>Labels:<span class="w">  </span><span class="nv">app</span><span class="o">=</span>mysql
<a id="rest_code_194725f3fb7145e982800d0b5dcd875e-15" name="rest_code_194725f3fb7145e982800d0b5dcd875e-15" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_194725f3fb7145e982800d0b5dcd875e-15"></a>Containers:
<a id="rest_code_194725f3fb7145e982800d0b5dcd875e-16" name="rest_code_194725f3fb7145e982800d0b5dcd875e-16" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_194725f3fb7145e982800d0b5dcd875e-16"></a>mysql:
<a id="rest_code_194725f3fb7145e982800d0b5dcd875e-17" name="rest_code_194725f3fb7145e982800d0b5dcd875e-17" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_194725f3fb7145e982800d0b5dcd875e-17"></a><span class="w">    </span>Image:<span class="w">      </span>mysql:5.7
<a id="rest_code_194725f3fb7145e982800d0b5dcd875e-18" name="rest_code_194725f3fb7145e982800d0b5dcd875e-18" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_194725f3fb7145e982800d0b5dcd875e-18"></a><span class="w">    </span>Port:<span class="w">       </span><span class="m">3306</span>/TCP
<a id="rest_code_194725f3fb7145e982800d0b5dcd875e-19" name="rest_code_194725f3fb7145e982800d0b5dcd875e-19" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_194725f3fb7145e982800d0b5dcd875e-19"></a><span class="w">    </span>Host<span class="w"> </span>Port:<span class="w">  </span><span class="m">0</span>/TCP
<a id="rest_code_194725f3fb7145e982800d0b5dcd875e-20" name="rest_code_194725f3fb7145e982800d0b5dcd875e-20" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_194725f3fb7145e982800d0b5dcd875e-20"></a><span class="w">    </span>Environment:
<a id="rest_code_194725f3fb7145e982800d0b5dcd875e-21" name="rest_code_194725f3fb7145e982800d0b5dcd875e-21" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_194725f3fb7145e982800d0b5dcd875e-21"></a><span class="w">    </span>MYSQL_ROOT_PASSWORD:<span class="w">  </span>&lt;<span class="nb">set</span><span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>key<span class="w"> </span><span class="s1">'MYSQL_ROOT_PASSWORD'</span><span class="w"> </span><span class="k">in</span><span class="w"> </span>secret<span class="w"> </span><span class="s1">'mysql-secrets'</span>&gt;<span class="w">  </span>Optional:<span class="w"> </span><span class="nb">false</span>
<a id="rest_code_194725f3fb7145e982800d0b5dcd875e-22" name="rest_code_194725f3fb7145e982800d0b5dcd875e-22" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_194725f3fb7145e982800d0b5dcd875e-22"></a><span class="w">    </span>MYSQL_USER:<span class="w">           </span>&lt;<span class="nb">set</span><span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>key<span class="w"> </span><span class="s1">'MYSQL_USER'</span><span class="w"> </span><span class="k">in</span><span class="w"> </span>secret<span class="w"> </span><span class="s1">'mysql-secrets'</span>&gt;<span class="w">           </span>Optional:<span class="w"> </span><span class="nb">false</span>
<a id="rest_code_194725f3fb7145e982800d0b5dcd875e-23" name="rest_code_194725f3fb7145e982800d0b5dcd875e-23" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_194725f3fb7145e982800d0b5dcd875e-23"></a><span class="w">    </span>MYSQL_PASSWORD:<span class="w">       </span>&lt;<span class="nb">set</span><span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>key<span class="w"> </span><span class="s1">'MYSQL_PASSWORD'</span><span class="w"> </span><span class="k">in</span><span class="w"> </span>secret<span class="w"> </span><span class="s1">'mysql-secrets'</span>&gt;<span class="w">       </span>Optional:<span class="w"> </span><span class="nb">false</span>
<a id="rest_code_194725f3fb7145e982800d0b5dcd875e-24" name="rest_code_194725f3fb7145e982800d0b5dcd875e-24" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_194725f3fb7145e982800d0b5dcd875e-24"></a><span class="w">    </span>MYSQL_DATABASE:<span class="w">       </span>&lt;<span class="nb">set</span><span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>key<span class="w"> </span><span class="s1">'MYSQL_DATABASE'</span><span class="w"> </span><span class="k">in</span><span class="w"> </span>secret<span class="w"> </span><span class="s1">'mysql-secrets'</span>&gt;<span class="w">       </span>Optional:<span class="w"> </span><span class="nb">false</span>
<a id="rest_code_194725f3fb7145e982800d0b5dcd875e-25" name="rest_code_194725f3fb7145e982800d0b5dcd875e-25" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_194725f3fb7145e982800d0b5dcd875e-25"></a><span class="w">    </span>Mounts:
<a id="rest_code_194725f3fb7145e982800d0b5dcd875e-26" name="rest_code_194725f3fb7145e982800d0b5dcd875e-26" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_194725f3fb7145e982800d0b5dcd875e-26"></a><span class="w">    </span>/var/lib/mysql<span class="w"> </span>from<span class="w"> </span>mysql-data<span class="w"> </span><span class="o">(</span>rw,path<span class="o">=</span><span class="s2">"mysql"</span><span class="o">)</span>
<a id="rest_code_194725f3fb7145e982800d0b5dcd875e-27" name="rest_code_194725f3fb7145e982800d0b5dcd875e-27" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_194725f3fb7145e982800d0b5dcd875e-27"></a>Volumes:
<a id="rest_code_194725f3fb7145e982800d0b5dcd875e-28" name="rest_code_194725f3fb7145e982800d0b5dcd875e-28" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_194725f3fb7145e982800d0b5dcd875e-28"></a>mysql-data:
<a id="rest_code_194725f3fb7145e982800d0b5dcd875e-29" name="rest_code_194725f3fb7145e982800d0b5dcd875e-29" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_194725f3fb7145e982800d0b5dcd875e-29"></a><span class="w">    </span>Type:<span class="w">       </span>PersistentVolumeClaim<span class="w"> </span><span class="o">(</span>a<span class="w"> </span>reference<span class="w"> </span>to<span class="w"> </span>a<span class="w"> </span>PersistentVolumeClaim<span class="w"> </span><span class="k">in</span><span class="w"> </span>the<span class="w"> </span>same<span class="w"> </span>namespace<span class="o">)</span>
<a id="rest_code_194725f3fb7145e982800d0b5dcd875e-30" name="rest_code_194725f3fb7145e982800d0b5dcd875e-30" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_194725f3fb7145e982800d0b5dcd875e-30"></a><span class="w">    </span>ClaimName:<span class="w">  </span>mysql-pv-claim
<a id="rest_code_194725f3fb7145e982800d0b5dcd875e-31" name="rest_code_194725f3fb7145e982800d0b5dcd875e-31" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_194725f3fb7145e982800d0b5dcd875e-31"></a><span class="w">    </span>ReadOnly:<span class="w">   </span><span class="nb">false</span>
<a id="rest_code_194725f3fb7145e982800d0b5dcd875e-32" name="rest_code_194725f3fb7145e982800d0b5dcd875e-32" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_194725f3fb7145e982800d0b5dcd875e-32"></a>Conditions:
<a id="rest_code_194725f3fb7145e982800d0b5dcd875e-33" name="rest_code_194725f3fb7145e982800d0b5dcd875e-33" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_194725f3fb7145e982800d0b5dcd875e-33"></a>Type<span class="w">           </span>Status<span class="w">  </span>Reason
<a id="rest_code_194725f3fb7145e982800d0b5dcd875e-34" name="rest_code_194725f3fb7145e982800d0b5dcd875e-34" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_194725f3fb7145e982800d0b5dcd875e-34"></a>----<span class="w">           </span>------<span class="w">  </span>------
<a id="rest_code_194725f3fb7145e982800d0b5dcd875e-35" name="rest_code_194725f3fb7145e982800d0b5dcd875e-35" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_194725f3fb7145e982800d0b5dcd875e-35"></a>Available<span class="w">      </span>True<span class="w">    </span>MinimumReplicasAvailable
<a id="rest_code_194725f3fb7145e982800d0b5dcd875e-36" name="rest_code_194725f3fb7145e982800d0b5dcd875e-36" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_194725f3fb7145e982800d0b5dcd875e-36"></a>Progressing<span class="w">    </span>True<span class="w">    </span>NewReplicaSetAvailable
<a id="rest_code_194725f3fb7145e982800d0b5dcd875e-37" name="rest_code_194725f3fb7145e982800d0b5dcd875e-37" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_194725f3fb7145e982800d0b5dcd875e-37"></a>OldReplicaSets:<span class="w">  </span>&lt;none&gt;
<a id="rest_code_194725f3fb7145e982800d0b5dcd875e-38" name="rest_code_194725f3fb7145e982800d0b5dcd875e-38" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_194725f3fb7145e982800d0b5dcd875e-38"></a>NewReplicaSet:<span class="w">   </span>mysql-deployment-579b8bb767<span class="w"> </span><span class="o">(</span><span class="m">1</span>/1<span class="w"> </span>replicas<span class="w"> </span>created<span class="o">)</span>
<a id="rest_code_194725f3fb7145e982800d0b5dcd875e-39" name="rest_code_194725f3fb7145e982800d0b5dcd875e-39" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_194725f3fb7145e982800d0b5dcd875e-39"></a>Events:<span class="w">          </span>&lt;none&gt;
</pre></div>
<p>Or investigate pods</p>
<div class="code"><pre class="code bash"><a id="rest_code_cef9d17f24674d8e838d528deffb1661-1" name="rest_code_cef9d17f24674d8e838d528deffb1661-1" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_cef9d17f24674d8e838d528deffb1661-1"></a>kubectl<span class="w"> </span>get<span class="w"> </span>pods
<a id="rest_code_cef9d17f24674d8e838d528deffb1661-2" name="rest_code_cef9d17f24674d8e838d528deffb1661-2" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_cef9d17f24674d8e838d528deffb1661-2"></a>
<a id="rest_code_cef9d17f24674d8e838d528deffb1661-3" name="rest_code_cef9d17f24674d8e838d528deffb1661-3" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_cef9d17f24674d8e838d528deffb1661-3"></a>NAME<span class="w">                                </span>READY<span class="w">   </span>STATUS<span class="w">    </span>RESTARTS<span class="w">   </span>AGE
<a id="rest_code_cef9d17f24674d8e838d528deffb1661-4" name="rest_code_cef9d17f24674d8e838d528deffb1661-4" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_cef9d17f24674d8e838d528deffb1661-4"></a>mysql-deployment-579b8bb767-mk5jx<span class="w">   </span><span class="m">1</span>/1<span class="w">     </span>Running<span class="w">   </span><span class="m">0</span><span class="w">          </span>69m
<a id="rest_code_cef9d17f24674d8e838d528deffb1661-5" name="rest_code_cef9d17f24674d8e838d528deffb1661-5" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_cef9d17f24674d8e838d528deffb1661-5"></a>
<a id="rest_code_cef9d17f24674d8e838d528deffb1661-6" name="rest_code_cef9d17f24674d8e838d528deffb1661-6" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_cef9d17f24674d8e838d528deffb1661-6"></a>kubectl<span class="w"> </span>describe<span class="w"> </span>pod<span class="w"> </span>mysql-deployment-579b8bb767-mk5jx
<a id="rest_code_cef9d17f24674d8e838d528deffb1661-7" name="rest_code_cef9d17f24674d8e838d528deffb1661-7" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_cef9d17f24674d8e838d528deffb1661-7"></a>
<a id="rest_code_cef9d17f24674d8e838d528deffb1661-8" name="rest_code_cef9d17f24674d8e838d528deffb1661-8" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_cef9d17f24674d8e838d528deffb1661-8"></a>Name:<span class="w">         </span>mysql-deployment-579b8bb767-mk5jx
<a id="rest_code_cef9d17f24674d8e838d528deffb1661-9" name="rest_code_cef9d17f24674d8e838d528deffb1661-9" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_cef9d17f24674d8e838d528deffb1661-9"></a>Namespace:<span class="w">    </span>default
<a id="rest_code_cef9d17f24674d8e838d528deffb1661-10" name="rest_code_cef9d17f24674d8e838d528deffb1661-10" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_cef9d17f24674d8e838d528deffb1661-10"></a>Priority:<span class="w">     </span><span class="m">0</span>
<a id="rest_code_cef9d17f24674d8e838d528deffb1661-11" name="rest_code_cef9d17f24674d8e838d528deffb1661-11" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_cef9d17f24674d8e838d528deffb1661-11"></a>Node:<span class="w">         </span>worker4/192.168.50.15
<a id="rest_code_cef9d17f24674d8e838d528deffb1661-12" name="rest_code_cef9d17f24674d8e838d528deffb1661-12" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_cef9d17f24674d8e838d528deffb1661-12"></a>Start<span class="w"> </span>Time:<span class="w">   </span>Sun,<span class="w"> </span><span class="m">28</span><span class="w"> </span>Jun<span class="w"> </span><span class="m">2020</span><span class="w"> </span><span class="m">17</span>:02:00<span class="w"> </span>+0000
<a id="rest_code_cef9d17f24674d8e838d528deffb1661-13" name="rest_code_cef9d17f24674d8e838d528deffb1661-13" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_cef9d17f24674d8e838d528deffb1661-13"></a>Labels:<span class="w">       </span><span class="nv">app</span><span class="o">=</span>mysql
<a id="rest_code_cef9d17f24674d8e838d528deffb1661-14" name="rest_code_cef9d17f24674d8e838d528deffb1661-14" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_cef9d17f24674d8e838d528deffb1661-14"></a><span class="w">            </span>pod-template-hash<span class="o">=</span>579b8bb767
<a id="rest_code_cef9d17f24674d8e838d528deffb1661-15" name="rest_code_cef9d17f24674d8e838d528deffb1661-15" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_cef9d17f24674d8e838d528deffb1661-15"></a>Annotations:<span class="w">  </span>cni.projectcalico.org/podIP:<span class="w"> </span><span class="m">192</span>.168.199.131/32
<a id="rest_code_cef9d17f24674d8e838d528deffb1661-16" name="rest_code_cef9d17f24674d8e838d528deffb1661-16" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_cef9d17f24674d8e838d528deffb1661-16"></a>Status:<span class="w">       </span>Running
<a id="rest_code_cef9d17f24674d8e838d528deffb1661-17" name="rest_code_cef9d17f24674d8e838d528deffb1661-17" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_cef9d17f24674d8e838d528deffb1661-17"></a>IP:<span class="w">           </span><span class="m">192</span>.168.199.131
<a id="rest_code_cef9d17f24674d8e838d528deffb1661-18" name="rest_code_cef9d17f24674d8e838d528deffb1661-18" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_cef9d17f24674d8e838d528deffb1661-18"></a>IPs:
<a id="rest_code_cef9d17f24674d8e838d528deffb1661-19" name="rest_code_cef9d17f24674d8e838d528deffb1661-19" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_cef9d17f24674d8e838d528deffb1661-19"></a>IP:<span class="w">           </span><span class="m">192</span>.168.199.131
<a id="rest_code_cef9d17f24674d8e838d528deffb1661-20" name="rest_code_cef9d17f24674d8e838d528deffb1661-20" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_cef9d17f24674d8e838d528deffb1661-20"></a>Controlled<span class="w"> </span>By:<span class="w">  </span>ReplicaSet/mysql-deployment-579b8bb767
<a id="rest_code_cef9d17f24674d8e838d528deffb1661-21" name="rest_code_cef9d17f24674d8e838d528deffb1661-21" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_cef9d17f24674d8e838d528deffb1661-21"></a>Containers:
<a id="rest_code_cef9d17f24674d8e838d528deffb1661-22" name="rest_code_cef9d17f24674d8e838d528deffb1661-22" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_cef9d17f24674d8e838d528deffb1661-22"></a>mysql:
<a id="rest_code_cef9d17f24674d8e838d528deffb1661-23" name="rest_code_cef9d17f24674d8e838d528deffb1661-23" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_cef9d17f24674d8e838d528deffb1661-23"></a><span class="w">    </span>Container<span class="w"> </span>ID:<span class="w">   </span>docker://b755c731e9b72812040d62315a2499d05cdaa6b8425e6b357fa19f1e9d6aed2c
<a id="rest_code_cef9d17f24674d8e838d528deffb1661-24" name="rest_code_cef9d17f24674d8e838d528deffb1661-24" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_cef9d17f24674d8e838d528deffb1661-24"></a><span class="w">    </span>Image:<span class="w">          </span>mysql:5.7
<a id="rest_code_cef9d17f24674d8e838d528deffb1661-25" name="rest_code_cef9d17f24674d8e838d528deffb1661-25" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_cef9d17f24674d8e838d528deffb1661-25"></a><span class="w">    </span>Image<span class="w"> </span>ID:<span class="w">       </span>docker-pullable://mysql@sha256:32f9d9a069f7a735e28fd44ea944d53c61f990ba71460c5c183e610854ca4854
<a id="rest_code_cef9d17f24674d8e838d528deffb1661-26" name="rest_code_cef9d17f24674d8e838d528deffb1661-26" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_cef9d17f24674d8e838d528deffb1661-26"></a><span class="w">    </span>Port:<span class="w">           </span><span class="m">3306</span>/TCP
<a id="rest_code_cef9d17f24674d8e838d528deffb1661-27" name="rest_code_cef9d17f24674d8e838d528deffb1661-27" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_cef9d17f24674d8e838d528deffb1661-27"></a><span class="w">    </span>Host<span class="w"> </span>Port:<span class="w">      </span><span class="m">0</span>/TCP
<a id="rest_code_cef9d17f24674d8e838d528deffb1661-28" name="rest_code_cef9d17f24674d8e838d528deffb1661-28" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_cef9d17f24674d8e838d528deffb1661-28"></a><span class="w">    </span>State:<span class="w">          </span>Running
<a id="rest_code_cef9d17f24674d8e838d528deffb1661-29" name="rest_code_cef9d17f24674d8e838d528deffb1661-29" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_cef9d17f24674d8e838d528deffb1661-29"></a><span class="w">    </span>Started:<span class="w">      </span>Sun,<span class="w"> </span><span class="m">28</span><span class="w"> </span>Jun<span class="w"> </span><span class="m">2020</span><span class="w"> </span><span class="m">17</span>:02:02<span class="w"> </span>+0000
<a id="rest_code_cef9d17f24674d8e838d528deffb1661-30" name="rest_code_cef9d17f24674d8e838d528deffb1661-30" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_cef9d17f24674d8e838d528deffb1661-30"></a><span class="w">    </span>Ready:<span class="w">          </span>True
<a id="rest_code_cef9d17f24674d8e838d528deffb1661-31" name="rest_code_cef9d17f24674d8e838d528deffb1661-31" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_cef9d17f24674d8e838d528deffb1661-31"></a><span class="w">    </span>Restart<span class="w"> </span>Count:<span class="w">  </span><span class="m">0</span>
<a id="rest_code_cef9d17f24674d8e838d528deffb1661-32" name="rest_code_cef9d17f24674d8e838d528deffb1661-32" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_cef9d17f24674d8e838d528deffb1661-32"></a><span class="w">    </span>Environment:
<a id="rest_code_cef9d17f24674d8e838d528deffb1661-33" name="rest_code_cef9d17f24674d8e838d528deffb1661-33" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_cef9d17f24674d8e838d528deffb1661-33"></a><span class="w">    </span>MYSQL_ROOT_PASSWORD:<span class="w">  </span>&lt;<span class="nb">set</span><span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>key<span class="w"> </span><span class="s1">'MYSQL_ROOT_PASSWORD'</span><span class="w"> </span><span class="k">in</span><span class="w"> </span>secret<span class="w"> </span><span class="s1">'mysql-secrets'</span>&gt;<span class="w">  </span>Optional:<span class="w"> </span><span class="nb">false</span>
<a id="rest_code_cef9d17f24674d8e838d528deffb1661-34" name="rest_code_cef9d17f24674d8e838d528deffb1661-34" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_cef9d17f24674d8e838d528deffb1661-34"></a><span class="w">    </span>MYSQL_USER:<span class="w">           </span>&lt;<span class="nb">set</span><span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>key<span class="w"> </span><span class="s1">'MYSQL_USER'</span><span class="w"> </span><span class="k">in</span><span class="w"> </span>secret<span class="w"> </span><span class="s1">'mysql-secrets'</span>&gt;<span class="w">           </span>Optional:<span class="w"> </span><span class="nb">false</span>
<a id="rest_code_cef9d17f24674d8e838d528deffb1661-35" name="rest_code_cef9d17f24674d8e838d528deffb1661-35" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_cef9d17f24674d8e838d528deffb1661-35"></a><span class="w">    </span>MYSQL_PASSWORD:<span class="w">       </span>&lt;<span class="nb">set</span><span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>key<span class="w"> </span><span class="s1">'MYSQL_PASSWORD'</span><span class="w"> </span><span class="k">in</span><span class="w"> </span>secret<span class="w"> </span><span class="s1">'mysql-secrets'</span>&gt;<span class="w">       </span>Optional:<span class="w"> </span><span class="nb">false</span>
<a id="rest_code_cef9d17f24674d8e838d528deffb1661-36" name="rest_code_cef9d17f24674d8e838d528deffb1661-36" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_cef9d17f24674d8e838d528deffb1661-36"></a><span class="w">    </span>MYSQL_DATABASE:<span class="w">       </span>&lt;<span class="nb">set</span><span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>key<span class="w"> </span><span class="s1">'MYSQL_DATABASE'</span><span class="w"> </span><span class="k">in</span><span class="w"> </span>secret<span class="w"> </span><span class="s1">'mysql-secrets'</span>&gt;<span class="w">       </span>Optional:<span class="w"> </span><span class="nb">false</span>
<a id="rest_code_cef9d17f24674d8e838d528deffb1661-37" name="rest_code_cef9d17f24674d8e838d528deffb1661-37" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_cef9d17f24674d8e838d528deffb1661-37"></a><span class="w">    </span>Mounts:
<a id="rest_code_cef9d17f24674d8e838d528deffb1661-38" name="rest_code_cef9d17f24674d8e838d528deffb1661-38" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_cef9d17f24674d8e838d528deffb1661-38"></a><span class="w">    </span>/var/lib/mysql<span class="w"> </span>from<span class="w"> </span>mysql-data<span class="w"> </span><span class="o">(</span>rw,path<span class="o">=</span><span class="s2">"mysql"</span><span class="o">)</span>
<a id="rest_code_cef9d17f24674d8e838d528deffb1661-39" name="rest_code_cef9d17f24674d8e838d528deffb1661-39" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_cef9d17f24674d8e838d528deffb1661-39"></a><span class="w">    </span>/var/run/secrets/kubernetes.io/serviceaccount<span class="w"> </span>from<span class="w"> </span>default-token-4wtnw<span class="w"> </span><span class="o">(</span>ro<span class="o">)</span>
<a id="rest_code_cef9d17f24674d8e838d528deffb1661-40" name="rest_code_cef9d17f24674d8e838d528deffb1661-40" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_cef9d17f24674d8e838d528deffb1661-40"></a>Conditions:
<a id="rest_code_cef9d17f24674d8e838d528deffb1661-41" name="rest_code_cef9d17f24674d8e838d528deffb1661-41" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_cef9d17f24674d8e838d528deffb1661-41"></a>Type<span class="w">              </span>Status
<a id="rest_code_cef9d17f24674d8e838d528deffb1661-42" name="rest_code_cef9d17f24674d8e838d528deffb1661-42" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_cef9d17f24674d8e838d528deffb1661-42"></a>Initialized<span class="w">       </span>True
<a id="rest_code_cef9d17f24674d8e838d528deffb1661-43" name="rest_code_cef9d17f24674d8e838d528deffb1661-43" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_cef9d17f24674d8e838d528deffb1661-43"></a>Ready<span class="w">             </span>True
<a id="rest_code_cef9d17f24674d8e838d528deffb1661-44" name="rest_code_cef9d17f24674d8e838d528deffb1661-44" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_cef9d17f24674d8e838d528deffb1661-44"></a>ContainersReady<span class="w">   </span>True
<a id="rest_code_cef9d17f24674d8e838d528deffb1661-45" name="rest_code_cef9d17f24674d8e838d528deffb1661-45" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_cef9d17f24674d8e838d528deffb1661-45"></a>PodScheduled<span class="w">      </span>True
<a id="rest_code_cef9d17f24674d8e838d528deffb1661-46" name="rest_code_cef9d17f24674d8e838d528deffb1661-46" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_cef9d17f24674d8e838d528deffb1661-46"></a>Volumes:
<a id="rest_code_cef9d17f24674d8e838d528deffb1661-47" name="rest_code_cef9d17f24674d8e838d528deffb1661-47" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_cef9d17f24674d8e838d528deffb1661-47"></a>mysql-data:
<a id="rest_code_cef9d17f24674d8e838d528deffb1661-48" name="rest_code_cef9d17f24674d8e838d528deffb1661-48" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_cef9d17f24674d8e838d528deffb1661-48"></a><span class="w">    </span>Type:<span class="w">       </span>PersistentVolumeClaim<span class="w"> </span><span class="o">(</span>a<span class="w"> </span>reference<span class="w"> </span>to<span class="w"> </span>a<span class="w"> </span>PersistentVolumeClaim<span class="w"> </span><span class="k">in</span><span class="w"> </span>the<span class="w"> </span>same<span class="w"> </span>namespace<span class="o">)</span>
<a id="rest_code_cef9d17f24674d8e838d528deffb1661-49" name="rest_code_cef9d17f24674d8e838d528deffb1661-49" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_cef9d17f24674d8e838d528deffb1661-49"></a><span class="w">    </span>ClaimName:<span class="w">  </span>mysql-pv-claim
<a id="rest_code_cef9d17f24674d8e838d528deffb1661-50" name="rest_code_cef9d17f24674d8e838d528deffb1661-50" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_cef9d17f24674d8e838d528deffb1661-50"></a><span class="w">    </span>ReadOnly:<span class="w">   </span><span class="nb">false</span>
<a id="rest_code_cef9d17f24674d8e838d528deffb1661-51" name="rest_code_cef9d17f24674d8e838d528deffb1661-51" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_cef9d17f24674d8e838d528deffb1661-51"></a>default-token-4wtnw:
<a id="rest_code_cef9d17f24674d8e838d528deffb1661-52" name="rest_code_cef9d17f24674d8e838d528deffb1661-52" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_cef9d17f24674d8e838d528deffb1661-52"></a><span class="w">    </span>Type:<span class="w">        </span>Secret<span class="w"> </span><span class="o">(</span>a<span class="w"> </span>volume<span class="w"> </span>populated<span class="w"> </span>by<span class="w"> </span>a<span class="w"> </span>Secret<span class="o">)</span>
<a id="rest_code_cef9d17f24674d8e838d528deffb1661-53" name="rest_code_cef9d17f24674d8e838d528deffb1661-53" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_cef9d17f24674d8e838d528deffb1661-53"></a><span class="w">    </span>SecretName:<span class="w">  </span>default-token-4wtnw
<a id="rest_code_cef9d17f24674d8e838d528deffb1661-54" name="rest_code_cef9d17f24674d8e838d528deffb1661-54" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_cef9d17f24674d8e838d528deffb1661-54"></a><span class="w">    </span>Optional:<span class="w">    </span><span class="nb">false</span>
<a id="rest_code_cef9d17f24674d8e838d528deffb1661-55" name="rest_code_cef9d17f24674d8e838d528deffb1661-55" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_cef9d17f24674d8e838d528deffb1661-55"></a>QoS<span class="w"> </span>Class:<span class="w">       </span>BestEffort
<a id="rest_code_cef9d17f24674d8e838d528deffb1661-56" name="rest_code_cef9d17f24674d8e838d528deffb1661-56" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_cef9d17f24674d8e838d528deffb1661-56"></a>Node-Selectors:<span class="w">  </span>&lt;none&gt;
<a id="rest_code_cef9d17f24674d8e838d528deffb1661-57" name="rest_code_cef9d17f24674d8e838d528deffb1661-57" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_cef9d17f24674d8e838d528deffb1661-57"></a>Tolerations:<span class="w">     </span>node.kubernetes.io/not-ready:NoExecute<span class="w"> </span><span class="k">for</span><span class="w"> </span>300s
<a id="rest_code_cef9d17f24674d8e838d528deffb1661-58" name="rest_code_cef9d17f24674d8e838d528deffb1661-58" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_cef9d17f24674d8e838d528deffb1661-58"></a><span class="w">                </span>node.kubernetes.io/unreachable:NoExecute<span class="w"> </span><span class="k">for</span><span class="w"> </span>300s
<a id="rest_code_cef9d17f24674d8e838d528deffb1661-59" name="rest_code_cef9d17f24674d8e838d528deffb1661-59" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_cef9d17f24674d8e838d528deffb1661-59"></a>Events:<span class="w">          </span>&lt;none&gt;
</pre></div>
<p>Or logs from pod</p>
<div class="code"><pre class="code bash"><a id="rest_code_5a2cd0f9238a43b896bb44b4c32147f6-1" name="rest_code_5a2cd0f9238a43b896bb44b4c32147f6-1" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_5a2cd0f9238a43b896bb44b4c32147f6-1"></a>kubectl<span class="w"> </span>logs<span class="w"> </span>mysql-deployment-579b8bb767-mk5jx
<a id="rest_code_5a2cd0f9238a43b896bb44b4c32147f6-2" name="rest_code_5a2cd0f9238a43b896bb44b4c32147f6-2" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_5a2cd0f9238a43b896bb44b4c32147f6-2"></a>
<a id="rest_code_5a2cd0f9238a43b896bb44b4c32147f6-3" name="rest_code_5a2cd0f9238a43b896bb44b4c32147f6-3" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_5a2cd0f9238a43b896bb44b4c32147f6-3"></a><span class="m">2020</span>-06-28T17:02:13.695295Z<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">[</span>Note<span class="o">]</span><span class="w"> </span>IPv6<span class="w"> </span>is<span class="w"> </span>available.
<a id="rest_code_5a2cd0f9238a43b896bb44b4c32147f6-4" name="rest_code_5a2cd0f9238a43b896bb44b4c32147f6-4" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_5a2cd0f9238a43b896bb44b4c32147f6-4"></a><span class="m">2020</span>-06-28T17:02:13.695350Z<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">[</span>Note<span class="o">]</span><span class="w">   </span>-<span class="w"> </span><span class="s1">'::'</span><span class="w"> </span>resolves<span class="w"> </span>to<span class="w"> </span><span class="s1">'::'</span><span class="p">;</span>
<a id="rest_code_5a2cd0f9238a43b896bb44b4c32147f6-5" name="rest_code_5a2cd0f9238a43b896bb44b4c32147f6-5" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_5a2cd0f9238a43b896bb44b4c32147f6-5"></a><span class="m">2020</span>-06-28T17:02:13.695392Z<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">[</span>Note<span class="o">]</span><span class="w"> </span>Server<span class="w"> </span>socket<span class="w"> </span>created<span class="w"> </span>on<span class="w"> </span>IP:<span class="w"> </span><span class="s1">'::'</span>.
<a id="rest_code_5a2cd0f9238a43b896bb44b4c32147f6-6" name="rest_code_5a2cd0f9238a43b896bb44b4c32147f6-6" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_5a2cd0f9238a43b896bb44b4c32147f6-6"></a><span class="m">2020</span>-06-28T17:02:13.695906Z<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">[</span>Warning<span class="o">]</span><span class="w"> </span>Insecure<span class="w"> </span>configuration<span class="w"> </span><span class="k">for</span><span class="w"> </span>--pid-file:<span class="w"> </span>Location<span class="w"> </span><span class="s1">'/var/run/mysqld'</span><span class="w"> </span><span class="k">in</span><span class="w"> </span>the<span class="w"> </span>path<span class="w"> </span>is<span class="w"> </span>accessible<span class="w"> </span>to<span class="w"> </span>all<span class="w"> </span>OS<span class="w"> </span>users.<span class="w"> </span>Consider<span class="w"> </span>choosing<span class="w"> </span>a<span class="w"> </span>different<span class="w"> </span>directory.
<a id="rest_code_5a2cd0f9238a43b896bb44b4c32147f6-7" name="rest_code_5a2cd0f9238a43b896bb44b4c32147f6-7" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_5a2cd0f9238a43b896bb44b4c32147f6-7"></a><span class="m">2020</span>-06-28T17:02:13.703856Z<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">[</span>Note<span class="o">]</span><span class="w"> </span>InnoDB:<span class="w"> </span>Buffer<span class="w"> </span>pool<span class="o">(</span>s<span class="o">)</span><span class="w"> </span>load<span class="w"> </span>completed<span class="w"> </span>at<span class="w"> </span><span class="m">200628</span><span class="w"> </span><span class="m">17</span>:02:13
<a id="rest_code_5a2cd0f9238a43b896bb44b4c32147f6-8" name="rest_code_5a2cd0f9238a43b896bb44b4c32147f6-8" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_5a2cd0f9238a43b896bb44b4c32147f6-8"></a><span class="m">2020</span>-06-28T17:02:13.746239Z<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">[</span>Note<span class="o">]</span><span class="w"> </span>Event<span class="w"> </span>Scheduler:<span class="w"> </span>Loaded<span class="w"> </span><span class="m">0</span><span class="w"> </span>events
<a id="rest_code_5a2cd0f9238a43b896bb44b4c32147f6-9" name="rest_code_5a2cd0f9238a43b896bb44b4c32147f6-9" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_5a2cd0f9238a43b896bb44b4c32147f6-9"></a><span class="m">2020</span>-06-28T17:02:13.746461Z<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">[</span>Note<span class="o">]</span><span class="w"> </span>mysqld:<span class="w"> </span>ready<span class="w"> </span><span class="k">for</span><span class="w"> </span>connections.
<a id="rest_code_5a2cd0f9238a43b896bb44b4c32147f6-10" name="rest_code_5a2cd0f9238a43b896bb44b4c32147f6-10" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_5a2cd0f9238a43b896bb44b4c32147f6-10"></a>Version:<span class="w"> </span><span class="s1">'5.7.30'</span><span class="w">  </span>socket:<span class="w"> </span><span class="s1">'/var/run/mysqld/mysqld.sock'</span><span class="w">  </span>port:<span class="w"> </span><span class="m">3306</span><span class="w">  </span>MySQL<span class="w"> </span>Community<span class="w"> </span>Server<span class="w"> </span><span class="o">(</span>GPL<span class="o">)</span>
</pre></div>
<p>Where we can see our mysql server is up and running</p>
<p>We can now test if our secrets were applied by running exact same exec syntax as in docker
NEVER PROVIDE PASSWORD IN COMMAND LINE THIS IS JUST FOR DEMONSTRATION PURPOSES if you do just -p you will be prompted
for password</p>
<div class="code"><pre class="code bash"><a id="rest_code_321275ca75b8453abc603ed5cfaa4c39-1" name="rest_code_321275ca75b8453abc603ed5cfaa4c39-1" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_321275ca75b8453abc603ed5cfaa4c39-1"></a>kubectl<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span>mysql-deployment-579b8bb767-mk5jx<span class="w"> </span>--<span class="w"> </span>mysql<span class="w"> </span>-u<span class="w"> </span>root<span class="w"> </span>-pMyPassword
<a id="rest_code_321275ca75b8453abc603ed5cfaa4c39-2" name="rest_code_321275ca75b8453abc603ed5cfaa4c39-2" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_321275ca75b8453abc603ed5cfaa4c39-2"></a>
<a id="rest_code_321275ca75b8453abc603ed5cfaa4c39-3" name="rest_code_321275ca75b8453abc603ed5cfaa4c39-3" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_321275ca75b8453abc603ed5cfaa4c39-3"></a>mysql&gt;<span class="w"> </span>show<span class="w"> </span>databases<span class="p">;</span>
<a id="rest_code_321275ca75b8453abc603ed5cfaa4c39-4" name="rest_code_321275ca75b8453abc603ed5cfaa4c39-4" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_321275ca75b8453abc603ed5cfaa4c39-4"></a>+--------------------+
<a id="rest_code_321275ca75b8453abc603ed5cfaa4c39-5" name="rest_code_321275ca75b8453abc603ed5cfaa4c39-5" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_321275ca75b8453abc603ed5cfaa4c39-5"></a><span class="p">|</span><span class="w"> </span>Database<span class="w">           </span><span class="p">|</span>
<a id="rest_code_321275ca75b8453abc603ed5cfaa4c39-6" name="rest_code_321275ca75b8453abc603ed5cfaa4c39-6" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_321275ca75b8453abc603ed5cfaa4c39-6"></a>+--------------------+
<a id="rest_code_321275ca75b8453abc603ed5cfaa4c39-7" name="rest_code_321275ca75b8453abc603ed5cfaa4c39-7" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_321275ca75b8453abc603ed5cfaa4c39-7"></a><span class="p">|</span><span class="w"> </span>information_schema<span class="w"> </span><span class="p">|</span>
<a id="rest_code_321275ca75b8453abc603ed5cfaa4c39-8" name="rest_code_321275ca75b8453abc603ed5cfaa4c39-8" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_321275ca75b8453abc603ed5cfaa4c39-8"></a><span class="p">|</span><span class="w"> </span>kubernetes_test<span class="w">    </span><span class="p">|</span>
<a id="rest_code_321275ca75b8453abc603ed5cfaa4c39-9" name="rest_code_321275ca75b8453abc603ed5cfaa4c39-9" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_321275ca75b8453abc603ed5cfaa4c39-9"></a><span class="p">|</span><span class="w"> </span>mysql<span class="w">              </span><span class="p">|</span>
<a id="rest_code_321275ca75b8453abc603ed5cfaa4c39-10" name="rest_code_321275ca75b8453abc603ed5cfaa4c39-10" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_321275ca75b8453abc603ed5cfaa4c39-10"></a><span class="p">|</span><span class="w"> </span>performance_schema<span class="w"> </span><span class="p">|</span>
<a id="rest_code_321275ca75b8453abc603ed5cfaa4c39-11" name="rest_code_321275ca75b8453abc603ed5cfaa4c39-11" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_321275ca75b8453abc603ed5cfaa4c39-11"></a><span class="p">|</span><span class="w"> </span>sys<span class="w">                </span><span class="p">|</span>
<a id="rest_code_321275ca75b8453abc603ed5cfaa4c39-12" name="rest_code_321275ca75b8453abc603ed5cfaa4c39-12" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_321275ca75b8453abc603ed5cfaa4c39-12"></a>+--------------------+
<a id="rest_code_321275ca75b8453abc603ed5cfaa4c39-13" name="rest_code_321275ca75b8453abc603ed5cfaa4c39-13" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_321275ca75b8453abc603ed5cfaa4c39-13"></a><span class="m">5</span><span class="w"> </span>rows<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span><span class="o">(</span><span class="m">0</span>.02<span class="w"> </span>sec<span class="o">)</span>
</pre></div>
<p>We can see initial db kubernetes_test was created
also lets try to log in to it with user and pass set up</p>
<div class="code"><pre class="code bash"><a id="rest_code_ccb4c2b22c2c45d5800a16601024b979-1" name="rest_code_ccb4c2b22c2c45d5800a16601024b979-1" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_ccb4c2b22c2c45d5800a16601024b979-1"></a>kubectl<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span>mysql-deployment-579b8bb767-mk5jx<span class="w"> </span>--<span class="w"> </span>mysql<span class="w"> </span>-u<span class="w"> </span>django<span class="w"> </span>-pdjango<span class="w"> </span>kubernetes_test
<a id="rest_code_ccb4c2b22c2c45d5800a16601024b979-2" name="rest_code_ccb4c2b22c2c45d5800a16601024b979-2" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_ccb4c2b22c2c45d5800a16601024b979-2"></a>
<a id="rest_code_ccb4c2b22c2c45d5800a16601024b979-3" name="rest_code_ccb4c2b22c2c45d5800a16601024b979-3" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_ccb4c2b22c2c45d5800a16601024b979-3"></a>Type<span class="w"> </span><span class="s1">'help;'</span><span class="w"> </span>or<span class="w"> </span><span class="s1">'\h'</span><span class="w"> </span><span class="k">for</span><span class="w"> </span>help.<span class="w"> </span>Type<span class="w"> </span><span class="s1">'\c'</span><span class="w"> </span>to<span class="w"> </span>clear<span class="w"> </span>the<span class="w"> </span>current<span class="w"> </span>input<span class="w"> </span>statement.
<a id="rest_code_ccb4c2b22c2c45d5800a16601024b979-4" name="rest_code_ccb4c2b22c2c45d5800a16601024b979-4" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_ccb4c2b22c2c45d5800a16601024b979-4"></a>
<a id="rest_code_ccb4c2b22c2c45d5800a16601024b979-5" name="rest_code_ccb4c2b22c2c45d5800a16601024b979-5" href="mysql-on-kubernetes-with-persistent-volume-and-secrets.html#rest_code_ccb4c2b22c2c45d5800a16601024b979-5"></a>mysql&gt;
</pre></div>
<p>Everything works as expected!!</p>
</section></section>
</div>
    <aside class="postpromonav"><nav><ul class="pager hidden-print">
<li class="previous">
                <a href="kuberenetes-nfs-persistent-volume.html" rel="prev" title="Kuberenetes NFS persistent volume">Previous post</a>
            </li>
            <li class="next">
                <a href="build-cheapest-kubernetes-i7-cluster.html" rel="next" title="Build cheapest kubernetes i7 cluster">Next post</a>
            </li>
        </ul></nav></aside><section class="comments hidden-print"><h2>Comments</h2>
        
    
        <div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="stencel",
            disqus_url="https://stencel.io/posts/mysql-on-kubernetes-with-persistent-volume-and-secrets.html",
        disqus_title="Mysql on kubernetes with persistent volume and secrets",
        disqus_identifier="cache/posts/mysql-on-kubernetes-with-persistent-volume-and-secrets.html",
        disqus_config = function () {
            this.language = "en";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    <a href="https://disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>


        </section></article><script>var disqus_shortname="stencel";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script><footer id="footer"><p>Contents  2025         <a href="mailto:gstencel@gmail.com">Greg Stencel</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         </p>
            
        </footer>
</div>
    </section><script src="../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-50641127-1', 'stencel.io');
  ga('send', 'pageview');

</script><script type="text/javascript" src="../assets/js/tipuesearch_set.js"></script><script type="text/javascript" src="../assets/js/tipuesearch.js"></script><script type="text/javascript">
$(document).ready(function() {
     $('#tipue_search_input').tipuesearch({
         'mode': 'json',
         'contentLocation': '/assets/js/tipuesearch_content.json',
         'showUrl': false
     });
});
</script>
</body>
</html>
